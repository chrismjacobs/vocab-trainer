webpackJsonp([0],{"0Q6Y":function(t,e){},"2plx":function(t,e){},"3Cbf":function(t,e){},"3bfX":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n={name:"TransMatch",components:{ToolbarMatch:s("LR+Q").default},props:{testType:String,p1:Number,p1name:String,p2:Number,p2name:String,player:String,socket:Object,s3:String,gameOver:Boolean,exit:Boolean},data:function(){return{waitUpdate:!1,waiting:0,pageHead:"Translation Match AI",toolbarShow:!0,showAnswers:!1,showTest:!1,showProgress:!1,timeReset:null,hover:!1,ready:["p2"],answered:0,answerData:[],filter:null,testItems:[],settings:{},fields:["Question","Answer"],time:null,clock:null,clockBlock:!1,startTimer:null,countDown:null,progressValues:{p1:0,p2:0,warn:0},p1score:0,p2score:0,btnIDMarker:null,winner:"",winName:"",AIclock:null,audioMarker:null,gamesPlayed:0,botLevel:1}},methods:{botLevelSetter:function(){4===this.botLevel?0===this.progressValues.p2?(this.botLevel=5,this.showComplete()):this.botLevel=3:3===this.botLevel?this.progressValues.p1>=2*this.progressValues.p2?this.botLevel=4:this.progressValues.p2>=2*this.progressValues.p1&&(this.botLevel=3):2===this.botLevel?this.progressValues.p1>=2*this.progressValues.p2?this.botLevel=3:this.progressValues.p2>=2*this.progressValues.p1&&(this.botLevel=2):1===this.botLevel&&(this.progressValues.p1>=2*this.progressValues.p2?this.botLevel=2:this.progressValues.p2>=2*this.progressValues.p1&&(this.botLevel=1))},go:function(t){console.log("roomReady",t,t.testItems.length),t.testItems.length>0&&(this.testItems=t.testItems,this.timeReset=1e3*t.timeReset),console.log(this.timeReset),this.waiting=1},addStar:function(t,e){console.log("star",t),this.$store.dispatch("newStar",{word:t,set:e})},showWin:function(){this.$refs.win.show()},showLose:function(){this.$refs.lose.show()},showDraw:function(){this.$refs.draw.show()},showComplete:function(){this.$refs.complete.show()},hideModal:function(t){"win"===t?this.$refs.win.hide():"lose"===t?this.$refs.lose.hide():"draw"===t?this.$refs.draw.hide():"complete"===t&&(this.$refs.complete.hide(),this.leave()),this.progressValues.p1=0,this.progressValues.p2=0,this.progressValues.warn=0,this.winner="",this.winName=""},getMessage:function(t){var e=[];e="win"===t?["So you think you're smart? Keep it up and I'll level up","Nice work, I might be in trouble here","Pretty good so far, I'd better think faster"]:["Well, I guess you need more practice","You lose, don't feel bad, I'm pretty good at this","Too bad, not many people can best me"];return'"'+this.AIshuffle(e)[0]+'"'},nameCut:function(t){var e=t.split(" ")[0];return e.length>7?e[0]:e},setCountdown:function(){this.time=this.timeReset;var t=this;this.clock=setInterval(function(){0!==t.time||t.clockBlock?t.time-=100:(t.clockBlock=!0,t.recordDisable(),t.time-=100)},100)},start:function(){this.showAnswers=!1,this.showProgress=!0,this.filter=0,this.answerData=[],this.showTest=!0},recordAnswer:function(t,e,s,i){clearTimeout(this.AIclock);var a=t+s;if(s===e)this.disable(t,a,i,!0,e);else if(this.disable(t,a,i,!1,e),"p1"===i&&1===this.answered){var n=this;setTimeout(function(){n.AIanswer(s)},2e3)}},AIanswer:function(t){var e=JSON.parse(a()(this.testItems[this.filter])),s=this.AIshuffle(e.Choices);0===this.getRandomInt([null,4,3,2,1][this.botLevel])?this.recordAnswer(e.Question,e.Answer,e.Answer,"p2"):s[0].Answer!==e.Answer&&s[0].Answer!==t?this.recordAnswer(e.Question,e.Answer,s[0].Answer,"p2"):s[1].Answer!==t?this.recordAnswer(e.Question,e.Answer,s[1].Answer,"p2"):s[2].Answer!==t&&this.recordAnswer(e.Question,e.Answer,s[2].Answer,"p2")},AIshuffle:function(t){for(var e=t.length-1;e>0;e--){var s=Math.floor(Math.random()*(e+1)),i=[t[s],t[e]];t[e]=i[0],t[s]=i[1]}return t},getRandomInt:function(t){return Math.floor(Math.random()*Math.floor(t))},recordDisable:function(){clearInterval(this.clock),this.clockBlock=!1,this.disable(this.testItems[this.filter].Answer,null,"p1",!1,null)},disable:function(t,e,s,i,a){var n="bg-"+s+"-light",r=document.getElementById(e);if(r){i?r.classList.add("correct"):r.classList.add("mistake"),r.classList.add(n),r.disabled=!0;var o=document.getElementsByName(t);if(s===this.player)for(var l=0;l<o.length;l++)o[l].disabled=!0;else if(i)for(var c=0;c<o.length;c++)o[c].disabled=!0}else{t=this.testItems[this.filter].Question,a=this.testItems[this.filter].Answer;for(var h=document.getElementsByName(t),d=0;d<h.length;d++)h[d].disabled=!0}i||1===this.answered?(this.answered=1,this.nextQuestion(t,a,s,i)):0===this.answered&&(this.answered=1,this.setCountdown())},nextQuestion:function(t,e,s,i){clearInterval(this.clock),this.answered=2,this.time=null;var a=this;a.countdown=setTimeout(function(){a.answered=0,a.enterResult(t,e,s,i),clearTimeout(a.AIstart),a.filterToggle(),a.countDown=null},2e3)},enterResult:function(t,e,s,i){var a="warn",n=0,r=t;i&&(a=s,n=1),this.testType.includes("Ch")&&(r=e);var o={Question:t,Answer:e,_rowVariant:a,Score:n,English:r};this.progressValues[a]+=1,this.answerData.push(o)},AIstartclock:function(){clearTimeout(this.AIclock);var t=this;this.AIclock=setTimeout(function(){console.log("AI start"),t.AIanswer()},2e3)},filterToggle:function(){this.filter+1<this.testItems.length?(this.filter+=1,this.AIstartclock()):(this.ready.push("p2"),this.gamesPlayed+=1,this.botLevelSetter(),this.filter=null,this.showTest=!1,this.showProgress=!1,this.checkAnswers())},checkAnswers:function(){var t=this.progressValues.p1,e=this.progressValues.p2;this.p1score+=this.progressValues.p1,this.p2score+=this.progressValues.p2,t>e?this.showWin():e>t?this.showLose():this.showDraw();var s=void 0;s=t===e?0:t>e&&"p1"===this.player?1:e>t&&"p2"===this.player?1:-1,this.$store.dispatch("updateMatch",{mode:"matchTrans",winnerStatus:s}),this.$store.dispatch("updateRecord",{mode:"matchTrans",answerData:this.answerData,settingsData:this.settings}),this.showAnswers=!0},playAudio:function(t){var e=document.getElementById("audio");e.src=t,e.play()},playAnswer:function(t){var e=this.dictGet.filter(function(e){return e.English===t});this.audioMarker&&document.getElementById(this.audioMarker).setAttribute("class","");this.audioMarker=t;var s=document.getElementById(t);s.setAttribute("class","text-warn");var i=e[0].mp3en,a=document.getElementById("audio");a.src=i,a.play(),a.onended=function(){s.setAttribute("class","")}},leave:function(){this.$emit("leave",{})}},computed:{starGet:function(){return this.$store.getters.starGet},dictGet:function(){return this.$store.getters.makeList},botTime:function(){return this.AIshuffle({1:[2e3,2200,2400,2600,2800,3e3],2:[1600,1800,2e3,2200,2400,2600],3:[1200,1400,1600,1800,2e3,2200],4:[800,1e3,1200,1400,1600,1800]}[this.botLevel])[0]},getBot:function(){return[{1:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/avatar/robot_01.PNG",2:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/avatar/robot_02.PNG",3:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/avatar/robot_03.PNG",4:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/100000/avatar.jpg",5:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/avatar/robot_04.PNG"}[this.botLevel],{1:"Level1",2:"Level2",3:"Level3",4:"Level4",5:"Level5"}[this.botLevel]]}},watch:{filter:function(){var t=this.testItems[this.filter];t&&"sdOff"!==this.sound&&this.playAudio(t.sdQue)},gameOver:function(){this.showTest=!1,this.showAnswers=!0,this.waiting=3,clearInterval(this.clock)},hover:function(){if(!0===this.hover){var t=this.testItems[this.filter];this.playAudio(t.sdQue)}},waiting:function(){var t=this;1===this.waiting&&(this.waiting=2,this.ready.push("p1"),setTimeout(function(){t.showTest=!0,t.ready=[],t.waiting=0,t.start()},2e3))},exit:function(){this.leave()}},beforeDestroy:function(){console.log("LEAVE"),this.answered=0,this.filter=null,this.showTest=!1,this.clock&&(clearInterval(this.clock),this.clock=null),this.startTimer&&(clearTimeout(this.startTimer),this.startTimer=null),this.countDown&&(clearTimeout(this.countDown),this.countDown=null)}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TransEng"},[s("audio",{attrs:{id:"audio"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"bg-third"},[s("div",{staticClass:"p-3 ",staticStyle:{height:"100px"}},[s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.s3+t.p1.toString()+".jpg",size:"65px",badge:t.nameCut(t.p1name),"badge-offset":"-0.6em","badge-variant":"p1"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-prime badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p1score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p1")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1),t._v(" "),s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.getBot[0],size:"65px",badge:t.getBot[1],"badge-offset":"-0.6em","badge-variant":"p2"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-p2 badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p2score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p2")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1)],1)],1),t._v(" "),s("div",[s("b-progress",{staticStyle:{height:"20px"},attrs:{max:1,"show-value":""}},[s("b-progress-bar",{attrs:{value:t.progressValues.p1,variant:"p1"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.warn,variant:"warn-light"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.p2,variant:"p2"}})],1),t._v(" "),s("b-progress",{staticStyle:{height:"20px"},attrs:{value:t.time,max:t.timeReset,variant:"grape"}})],1)]),t._v(" "),s("ToolbarMatch",{attrs:{toolbarShow:t.showTest,p1:t.p1,p2:t.p2,p1name:t.p1name,p2name:t.p2name,socket:t.socket,player:t.player,waiting:t.waiting,showAnswers:t.showAnswers,testType:t.testType},on:{waitUpdate:function(e){t.waitUpdate=!0},ready:function(e){return t.go(e)}}}),t._v(" "),t.showTest?s("div",{staticClass:"bg-grey"},t._l(t.testItems,function(e,i){return s("div",{key:i},[t.testItems.indexOf(e)===t.filter?s("div",{staticClass:"bg-third p-3",class:{active:"active1"},attrs:{align:"center"},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[s("h3",["sdEx"!==t.settings.sound||1==t.hover?s("span",[t._v(" "+t._s(e.Question)+" ")]):t._e(),t._v(" "),"sdEx"==t.settings.sound||"sdOn"==t.settings.sound?s("span",[s("b-icon-soundwave")],1):t._e()])]):t._e(),t._v(" "),t.testItems.indexOf(e)===t.filter?s("div",{staticClass:"p-3"},t._l(e.Choices,function(i,a){return s("div",{key:a},[s("button",{staticClass:"answerBtn bg-prime text-cream",attrs:{name:e.Question,id:e.Question+i.Answer,block:""},on:{click:function(s){return t.recordAnswer(e.Question,e.Answer,i.Answer,"p1")}}},[t._v("\n              "+t._s(i.Answer)+"\n            ")]),t._v(" "),s("br"),t._v(" "),s("br")])}),0):t._e()])}),0):t._e(),t._v(" "),t.showAnswers?s("div",{staticClass:"bg-grape-light"},[s("div",{staticClass:"mt-2"},[s("b-table",{attrs:{striped:"",hover:"",items:t.answerData,fields:t.fields},scopedSlots:t._u([{key:"head(question)",fn:function(e){return[s("div",{attrs:{align:"right"}},[e?s("span",[t._v("Question")]):t._e()])]}},{key:"cell(question)",fn:function(e){return[s("div",{staticStyle:{float:"left"}},[e.item.English in t.starGet?[s("b-icon-star-fill",{attrs:{variant:"warn"},on:{click:function(s){return t.addStar(e.item.English,0)}}})]:[s("b-icon-star",{attrs:{variant:"grey"},on:{click:function(s){return t.addStar(e.item.English,1)}}})]],2),t._v(" "),s("div",{attrs:{align:"right"}},[s("span",{attrs:{id:e.item.Question},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.Question))])])]}},{key:"cell(answer)",fn:function(e){return[s("span",{attrs:{id:e.item.Answer},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.Answer))])]}}],null,!1,1509965002)})],1)]):t._e(),t._v(" "),s("b-modal",{ref:"win",attrs:{align:"center","hide-footer":"",title:"Game Over","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("b-avatar",{attrs:{src:t.getBot[0],size:"100px"}}),t._v(" "),s("h3",[t._v(t._s(t.getMessage("win"))+" ")])],1),t._v(" "),s("br"),t._v(" "),s("button",{class:"buttonDiv mt-3 text-cream bg-safe",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("win")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"lose",attrs:{align:"center","hide-footer":"",title:"Game Over","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("b-avatar",{attrs:{src:t.getBot[0],size:"100px"}}),t._v(" "),s("h3",[t._v(t._s(t.getMessage("lose"))+" ")])],1),t._v(" "),s("br"),t._v(" "),s("button",{class:"buttonDiv mt-3 text-cream bg-alert",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("lose")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"draw",attrs:{align:"center","hide-footer":"",title:"Result","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" It's a draw! ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("draw")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"complete",attrs:{align:"center","hide-footer":"",title:"CONGRATULATIONS","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("b-avatar",{attrs:{src:t.getBot[0],size:"100px"}}),t._v(" "),s("h3",[t._v(" You have defeated AI Bot! ")])],1),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-safe text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("complete")}}},[t._v("Close")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-grape p-2 head",attrs:{align:"center"}},[e("h2",{staticClass:"text-cream"},[this._v(" AI Match ")])])}]};var o=s("VU/8")(n,r,!1,function(t){s("2plx")},"data-v-6f314264",null);e.default=o.exports},CiEu:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),n={name:"MemoryMatch",components:{ToolbarMatch:s("LR+Q").default},props:{testType:String,p1:Number,p1name:String,p2:Number,p2name:String,player:String,socket:Object,s3:String,gameOver:Boolean,exit:Boolean},data:function(){return{waiting:0,pageHead:"Memory Match",toolbarShow:!0,showAnswers:!1,showTest:!1,showProgress:!1,timeReset:null,ready:[],answered:0,answerData:[],testItems:[],settings:{},fields:["Question","Answer"],progressValues:{p1:0,p2:0,warn:0},p1score:0,p2score:0,btnIDMarker:null,winner:"",winName:"",audioMarker:null,cardMatch:[],disabledMarker:!1,disabledTemp:!1,foundCard:null,foundCard2:null,gameStyle:null,blocker:!1}},methods:{addStar:function(t,e){this.$store.dispatch("newStar",{word:t,set:e})},showWin:function(){this.$refs.win.show()},showDraw:function(){this.$refs.draw.show()},hideModal:function(t){"win"===t?this.$refs.win.hide():"draw"===t&&this.$refs.draw.hide(),this.progressValues.p1=0,this.progressValues.p2=0,this.progressValues.warn=0,this.winner="",this.winName=""},nameCut:function(t){var e=t.split(" ")[0];return e.length>7?e[0]:e},start:function(){this.showAnswers=!1,this.showProgress=!0,this.answerData=[],this.showTest=!0},readyCheck:function(){if(2===this.ready.length){this.waiting=2,"p2"===this.player&&(this.disabledMarker=!0);var t=this;t.startTimer=setTimeout(function(){t.start(),t.waiting=0,t.ready=[],t.startTimer=null},3e3)}},getCardClass:function(t){var e=this.testItems.find(function(e){return e.caption===t}),s="";return e!==this.foundCard&&e!==this.foundCard2||(s="borderDiv"),e.match?"basic text-prime bg-"+e.player:e.show?"basic text-prime bg-"+e.player+"-light "+s:this.disabledMarker?"basic text-cream bg-darkgrey":"basic text-prime bg-warn-light"},getDisabled:function(t){var e=this.testItems.find(function(e){return e.caption===t});return!(!this.disabledMarker&&!this.disabledTemp)||e.disabled},showStatus:function(t){return this.testItems.find(function(e){return e.caption===t}).show},showCard:function(t,e){this.disabledTemp=!0,console.log("cardMAtch",t,e,this.cardMatch.toString());var s=!1,i=1;2===this.cardMatch.length?(this.gameStyle.includes("1")&&(this.disabledMarker=!0),i=2,this.cardMatch.includes(t)&&(s=!0),this.cardMatch=[],this.socket.emit("answerMem",{room:this.p1+"-"+this.p2,card:t,match:s,answer:e,player:this.player,count:i})):0===this.cardMatch.length?(this.cardMatch.push(e),this.cardMatch.push(t),2===this.cardMatch.length&&this.socket.emit("answerMem",{room:this.p1+"-"+this.p2,card:t,match:s,answer:e,player:this.player,count:i})):(this.disabledMarker=!0,this.cardMatch=[])},enterResult:function(t,e,s,i){console.log("ENTER",this.player);var a=s,n=0,r=t;this.player===s&&(n=1);var o={Question:t,Answer:e,_rowVariant:a,Score:n,English:r};this.progressValues[a]+=1,this.answerData.push(o),this.progressValues.p1+this.progressValues.p2===this.testItems.length/2&&this.checkAnswers()},checkAnswers:function(){console.log("CHECK",this.player);var t=this.progressValues.p1,e=this.progressValues.p2;this.p1score+=this.progressValues.p1,this.p2score+=this.progressValues.p2,t>e?(this.winner="p1",this.winName=this.p1name,this.showWin()):e>t?(this.winner="p2",this.winName=this.p2name,this.showWin()):this.showDraw();var s=void 0;s=t===e?0:t>e&&"p1"===this.player?1:e>t&&"p2"===this.player?1:-1,this.$store.dispatch("updateMatch",{mode:"matchTrans",winnerStatus:s}),this.$store.dispatch("updateRecord",{mode:"matchTrans",answerData:this.answerData,settingsData:this.settings}),this.showAnswers=!0,this.showTest=!1,this.disabledMarker=!1},updateSettings:function(t){console.log("update active",t),this.gameStyle=t.gameStyle},playAudio:function(t){console.log("PLAY",t,this.player);var e=document.getElementById("audio");e.src=t,e.play()},playAnswer:function(t){console.log(t);var e=this.dictGet.find(function(e){return e.English===t});console.log("PLAY",e);var s=e.mp3en;this.audioMarker&&document.getElementById(this.audioMarker).setAttribute("class","");this.audioMarker=t;var i=document.getElementById(t);i.setAttribute("class","text-warn");var a=document.getElementById("audio");a.src=s,a.play(),a.onended=function(){i.setAttribute("class","")}},leave:function(){this.$emit("leave",{})}},watch:{gameOver:function(){this.showTest=!1,this.showAnswers=!0,this.waiting=3,clearInterval(this.clock)},exit:function(){this.leave()}},computed:{starGet:function(){return this.$store.getters.starGet},dictGet:function(){return this.$store.getters.makeList},cardText:function(){return"SA1"===this.gameStyle?"caption":"E"===this.gameStyle[0]?"English":"T"===this.gameStyle[0]?"caption":void 0}},created:function(){console.log("testType",this.testType)},beforeDestroy:function(){console.log("LEAVE"),this.answered=0,this.showTest=!1},mounted:function(){var t=this;t.socket.on("go",function(e){console.log("roomReady",e,e.testItems.length),t.room=e.room,e.testItems.length>0&&(console.log(e.testItems),t.testItems=e.testItems,t.timeReset=1e3*e.timeReset),t.ready.includes(e.player)||(t.ready.push(e.player),console.log(e.player,t.ready)),t.readyCheck()}),t.socket.on("answerCard",function(e){t.disabledTemp=!1,console.log("answerCard",e);var s=t.testItems.find(function(t){return t.caption===e.card}),i=t.testItems.find(function(t){return t.caption===e.answer});if(console.log("found",s),console.log("answer",i),console.log("count",e.count),1===e.count)s.disabled=!0,s.show=!0,s.player=e.player,t.foundCard=a()({},s);else if(2===e.count){s.disabled=!0,s.show=!0,s.player=e.player,t.foundCard2=a()({},s);var n=t,r=t.testItems.find(function(e){return e.caption===t.foundCard.caption});if(e.match){console.log(333,a()({},t.foundCard)),console.log(444,a()({},t.foundCard2)),r.match=!0,r.disabled=!0,s.disabled=!0,s.match=!0,t.disabledMarker=!0,t.playAudio(s.sound),t.enterResult(s.English,s.Chinese,e.player,!0);var o=t;setTimeout(function(){o.foundCard=null,o.foundCard2=null,e.player!==o.player&&o.gameStyle.includes("1")&&(o.disabledMarker=!1),e.player===o.player&&o.gameStyle.includes("2")&&(o.disabledMarker=!1),console.log(o.foundCard),console.log(o.foundCard2)},2e3)}else console.log(111,a()({},t.foundCard)),console.log(222,a()({},t.foundCard2)),t.disabledMarker=!0,setTimeout(function(){s.show=!1,s.player=null,s.disabled=!1,r.show=!1,r.player=null,r.disabled=!1,n.foundCard.player=null,n.foundCard=null,n.foundCard2=null,e.player!==n.player&&(n.disabledMarker=!1),console.log(n.foundCard),console.log(n.foundCard2)},2e3)}})}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MemoryMatch"},[s("audio",{attrs:{id:"audio"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"bg-second"},[s("div",{staticClass:"bg-third p-3 ",staticStyle:{height:"100px"}},[s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.s3+t.p1.toString()+".jpg",size:"65px",badge:t.nameCut(t.p1name),"badge-offset":"-0.6em","badge-variant":"p1"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-prime badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p1score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p1")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1),t._v(" "),s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.s3+t.p2.toString()+".jpg",size:"65px",badge:t.nameCut(t.p2name),"badge-offset":"-0.6em","badge-variant":"p2"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-p2 badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p2score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p2")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1)],1)],1),t._v(" "),s("div",{staticStyle:{height:"20px"}},[t.showProgress?s("b-progress",{staticStyle:{height:"20px"},attrs:{max:1,"show-value":""}},[s("b-progress-bar",{attrs:{value:t.progressValues.p1,variant:"p1"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.warn,variant:"warn-light"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.p2,variant:"p2"}})],1):t._e()],1)]),t._v(" "),s("ToolbarMatch",{attrs:{toolbarShow:t.showTest,p1:t.p1,p2:t.p2,p1name:t.p1name,p2name:t.p2name,socket:t.socket,player:t.player,waiting:t.waiting,showAnswers:t.showAnswers,testType:t.testType},on:{waitUpdate:function(e){t.waiting=1},settings:function(e){return t.updateSettings(e)}}}),t._v(" "),t.showTest?s("div",{staticClass:"bg-grey",attrs:{align:"center"}},[s("div",{staticStyle:{height:"30px"}}),t._v(" "),t._l(t.testItems,function(e,i){return s("div",{key:i,staticClass:"d-inline mt-3"},[s("button",{class:t.getCardClass(e.caption),staticStyle:{display:"inline-block"},attrs:{id:e.caption,disabled:t.getDisabled(e.caption)},on:{click:function(s){return t.showCard(e.caption,e.answer,"p1")}}},[s("div",{staticClass:"divHeight textLine py-2"},[2===t.$store.state.userProfile.userID?s("span",[t._v(" "+t._s(e.code)+" ")]):t.showStatus(e.caption)?t._e():s("span",[t._v(t._s(i+1))]),t._v(" "),t.showStatus(e.caption)||"SA1"===t.gameStyle?s("span",[t._v(" "+t._s(e[t.cardText])+" ")]):t._e()])])])}),t._v(" "),s("div",{staticStyle:{height:"30px"}})],2):t._e(),t._v(" "),t.showAnswers?s("div",{staticClass:"bg-smoke"},[s("div",{staticClass:"mt-2"},[s("b-table",{attrs:{striped:"",hover:"",items:t.answerData,fields:t.fields},scopedSlots:t._u([{key:"head(question)",fn:function(e){return[s("div",{attrs:{align:"right",id:e.item.English}},[t._v("\n          Question\n        ")])]}},{key:"cell(question)",fn:function(e){return[s("div",{staticStyle:{float:"left"}},[e.item.English in t.starGet?[s("b-icon-star-fill",{attrs:{variant:"warn"},on:{click:function(s){return t.addStar(e.item.English,0)}}})]:[s("b-icon-star",{attrs:{variant:"grey"},on:{click:function(s){return t.addStar(e.item.English,1)}}})]],2),t._v(" "),s("div",{attrs:{align:"right"}},[s("span",{attrs:{id:e.item.Question},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.Question))])])]}},{key:"cell(answer)",fn:function(e){return[s("span",{attrs:{id:e.item.Answer},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.Answer))])]}}],null,!1,2983433586)})],1)]):t._e(),t._v(" "),s("b-modal",{ref:"win",attrs:{align:"center","hide-footer":"",title:"Game Over","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" And the winner is... ")]),t._v(" "),s("b-avatar",{attrs:{src:t.s3+t.winner.toString()+".jpg",size:"100px",badge:t.winName,"badge-offset":"-0.6em","badge-variant":t.winner}})],1),t._v(" "),s("br"),t._v(" "),s("button",{class:"buttonDiv mt-3 text-prime bg-"+t.player,staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("win")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"draw",attrs:{align:"center","hide-footer":"",title:"Result","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" It's a draw! ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("draw")}}},[t._v("Close")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-grape p-2 head",attrs:{align:"center"}},[e("h2",{staticClass:"text-cream"},[this._v(" Memory ")])])}]};var o=s("VU/8")(n,r,!1,function(t){s("pkJh")},"data-v-ecf8ffb6",null);e.default=o.exports},Hrg7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"InstTable",props:{selected:Array,list:Array,mode:String},components:{},data:function(){return{msg:null,fields:[{key:"English",label:"Vocab",sortable:!0},{key:"ChineseExt",label:"Chinese",sortable:!0}],audioMarker:[null,null]}},methods:{showClear:function(){this.$refs.clear.show()},showAdd:function(){this.$refs.add.show()},hideClear:function(t){this.$refs.clear.hide(),"clear"===t&&this.clearAllStars()},hideAdd:function(t){this.$refs.add.hide(),"add"===t&&this.addAllStars()},addAllStars:function(){this.addStar(this.list,4)},clearAllStars:function(){this.addStar(this.list,5)},showModal:function(t){this.msg=t,this.$refs.success.show()},showAlert:function(t){this.msg=t,this.$refs.fail.show()},hideModal:function(t){this.$refs[t].hide()},addStar:function(t,e){this.$store.dispatch("newStar",{word:t,set:e})},addCheck:function(t){if(this.list.includes(t)){var e=this.list.indexOf(t);e>-1&&this.list.splice(e,1)}else this.list.push(t);console.log(this.list)},filterTable:function(t,e){return""===e[0]?!!this.list.includes(t.English):1!==e[0].length?!!t.English.includes(e[0].trim()):e[0]===t.English[0]||void 0},playAudio:function(t,e,s,i){var a=document.getElementById(this.audioMarker[0]+this.audioMarker[1]);console.log(a,s),a&&a.setAttribute("class","text-prime ml-3");var n=void 0;n=i?"text-warn ml-3":"ml-3 text-"+this.getSoundwave(),this.audioMarker=[t,e];var r=document.getElementById(t+e);r.setAttribute("class",n);var o=document.getElementById("audio");o.src=s;var l=this;o.addEventListener("error",function(t){console.log("Logging playback error: "+t),r.setAttribute("class","text-prime ml-3"),l.note="Sorry, no audio available",l.showAlert()}),o.play(),o.onended=function(){r.setAttribute("class","text-prime ml-3")}}},computed:{tableItems:function(){return this.$store.getters.makeList},starGet:function(){return console.log("stars",this.$store.getters.starGet),this.$store.getters.starGet}},created:function(){}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"instTable"}},[s("audio",{attrs:{id:"audio"}}),t._v(" "),s("div",{attrs:{align:"center"}},["student"===t.mode?s("b-row",{staticClass:"bg-secondary",attrs:{"no-gutters":""}},[s("b-col",[s("button",{staticClass:"buttonDiv bg-secondary px-3",staticStyle:{width:"100%"},on:{click:function(e){return t.showClear()}}},[s("b-icon-star-fill",{attrs:{variant:"warn","font-scale":"1.5"}}),t._v(" "),s("span",{staticClass:"text-cream"},[t._v("Clear all")])],1)]),t._v(" "),s("b-col",[s("button",{staticClass:"buttonDiv bg-secondary px-3",staticStyle:{width:"100%"},on:{click:function(e){return t.showAdd()}}},[s("b-icon-star-fill",{attrs:{variant:"grape-light","font-scale":"1.5"}}),t._v(" "),s("span",{staticClass:"text-cream"},[t._v("Add all")])],1)])],1):t._e()],1),t._v(" "),s("div",[s("div",{staticClass:"mb-0"},[s("b-table",{attrs:{"sticky-header":"",striped:"",hover:"",items:t.tableItems,fields:t.fields,filter:t.selected,"filter-function":t.filterTable,"show-empty":"",fixed:"","head-variant":"dark"},scopedSlots:t._u([{key:"cell(english)",fn:function(e){return["student"===t.mode?[e.item.Star?s("div",[s("b-icon-star-fill",{attrs:{variant:"warn"},on:{click:function(s){return t.addStar(e.item.English,0,null)}}}),t._v(" "),s("br",{staticClass:"d-lg-none"}),t._v(" "),s("span",{staticClass:"ml-3",attrs:{id:e.value+"_en/"},on:{click:function(s){return t.playAudio(e.value,"_en/",e.item.mp3en,!0)}}},[t._v(" "+t._s(e.value)+" ("+t._s(e.item.Gr)+") ")])],1):s("div",[s("b-icon-star",{on:{click:function(s){return t.addStar(e.item.English,1,null)}}}),t._v("   "),s("br",{staticClass:"d-lg-none"}),t._v(" "),s("span",{staticClass:"ml-3",attrs:{id:e.value+"_en/"},on:{click:function(s){return t.playAudio(e.value,"_en/",e.item.mp3en,!0)}}},[t._v(" "+t._s(e.value)+" ("+t._s(e.item.Gr)+") ")])],1)]:[t.list.includes(e.item.English)?s("div",{on:{click:function(s){return t.addCheck(e.item.English,0)}}},[s("b-icon-check-circle-fill",{attrs:{scale:"2",variant:"safe"}}),t._v(" "),s("span",{staticClass:"ml-3",attrs:{id:e.value+"_en/"},on:{click:function(s){return t.playAudio(e.value,"_en/",e.item.mp3en,!0)}}},[t._v(" "+t._s(e.value)+" ("+t._s(e.item.Gr)+") ")])],1):s("div",{on:{click:function(s){return t.addCheck(e.item.English,1)}}},[s("b-icon-check-circle",{attrs:{scale:"2"}}),t._v(" "),s("span",{staticClass:"ml-3",attrs:{id:e.value+"_en/"},on:{click:function(s){return t.playAudio(e.value,"_en/",e.item.mp3en,!0)}}},[t._v(" "+t._s(e.value)+" ("+t._s(e.item.Gr)+") ")])],1)]]}},{key:"cell(chineseext)",fn:function(e){return[s("span",{staticClass:"ml-3",attrs:{id:e.item.English+"_ch/"},on:{click:function(s){return t.playAudio(e.item.English,"_ch/",e.item.mp3ch,!0)}}},[t._v(" "+t._s(e.value)+" ")])]}}])})],1)]),t._v(" "),s("b-modal",{ref:"clear",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Alert"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" Are you sure you want to clear your star list? ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-alert text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideClear("clear")}}},[t._v("Clear")]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-secondary text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideClear("cancel")}}},[t._v("Cancel")])]),t._v(" "),s("b-modal",{ref:"add",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Alert"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" Would you like to add all quiz words to your star list? ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-grape text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideAdd("add")}}},[t._v("Add")]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-secondary text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideAdd("cancel")}}},[t._v("Cancel")])])],1)},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("PqGl")},"data-v-a1bb5026",null);e.default=n.exports},"L+El":function(t,e){},"LR+Q":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("0xDb"),r={name:"ToolbarMatch",props:{toolbarShow:Boolean,showToolbar:Boolean,showAnswers:Boolean,testType:String,p1:Number,p1name:String,p2:Number,p2name:String,player:String,waiting:Number,socket:Object},data:function(){return{wordsReset:"12",words:12,choices:4,timeReset:6,retry:!1,testItemsRoot:[],amendedList:[],toolbarSettings:{},optionsA:[{value:null,text:"---"}],sound:"sdEx",soundOptions:[{text:"exam mode",value:"sdEx"},{text:"auto play",value:"sdOn"},{text:"None",value:"sdOff"}],spelling:"blanks",spellingText:"None",spellingOptions:[{value:"blanks",text:"---"},{value:"showFL",text:"first/last"},{value:"const",text:"+ vowels"},{value:"vowels",text:"- vowels"},{value:"scramble",text:"scramble"},{value:"all",text:"show all"}],sort:"---",sortText:"---",sortOptions:[{value:"---",text:"none"},{value:"*",text:"star vocab"},{value:-1,text:"harder"},{value:1,text:"easier"}],game:"T2",gameText:"Translate 2",gameOptions:[{value:"T1",text:"Trans 1/1"},{value:"T2",text:"Trans >>>"},{value:"E1",text:"English 1/1"},{value:"E2",text:"English >>>"},{value:"SA1",text:"Show All"}],feedback:"fbConst",feedbackText:"Constant",feedbackOptions:[{text:"Constant",value:"fbConst"},{text:"Complete",value:"fbComp"},{text:"None",value:"fbNone"}],gameNames:{null:"No Game Type",TransEng:"English -> Chinese",TransCh:"Chinese -> English",TypeMatch:"Typing"},stringItems:null,tableItems:null}},methods:{breaker:function(t){return t.split(";")},makeTest:function(){this.testItemsRoot=[],this.amendedList=[];var t=JSON.parse(this.stringItems);if("---"===this.sort)this.amendedList=t;else if(-1===this.sort)for(var e in t)t[e].totalScore<=0&&this.amendedList.push(t[e]);else if("*"===this.sort)for(var s in t)this.starGet[t[s].English]&&this.amendedList.push(t[s]);else if("q"===this.sort)for(var i in t)this.quizGet.includes(t[i].English)&&this.amendedList.push(t[i]);else if(-1===this.sort)for(var a in t)t[a].totalScore<=0&&this.amendedList.push(t[a]);else if(1===this.sort)for(var n in t)t[n].totalScore>=0&&this.amendedList.push(t[n]);this.amendedList.length<6?(alert("Not enough words found to test this category"),this.sort="---",this.makeTest()):this.amendedList.length<this.words&&(this.words=this.amendedList.length),"TypeMatch"===this.testType?this.makeSpelling():this.testType.includes("Mem")?this.makeMemory():this.makeChoices()},getRandomItem:function(){return this.shuffle(this.amendedList)},makeChoices:function(){var t=this,e=void 0,s=void 0,i=void 0,a=void 0;this.testType.includes("Eng")?(e="English",s="Chinese",a="mp3en",i="mp3ch"):(e="Chinese",s="English",a="mp3ch",i="mp3en");for(var n=0,r=this.shuffle(this.amendedList);n<this.words;){var o=r[n];if(o){for(var l=[{Question:o[e],Answer:o[s],Gr:o.Gr,sdQue:o[a],sdAns:o[i]}],c=1;c<this.choices;)"sdTy"===this.sound?(l.push({English:this.typoFix(o.English),Gr:o.Gr,sdEn:o.mp3en,sdCh:o.mp3ch,Chinese:o.Chinese}),c++):function(){var n=t.amendedList[Math.floor(Math.random()*t.amendedList.length)];l.find(function(t){return t.Question===n[e]})||(l.push({Question:n[e],Answer:n[s],Gr:n.Gr,sdQue:n[a],sdAns:n[i]}),c++)}();var h=this.shuffle(l);this.testItemsRoot.push({Question:o[e],Answer:o[s],Gr:o.Gr,sdQue:o[a],sdAns:o[i],Choices:h}),n++}else;}"I"===this.testType[1]?this.$emit("ready",{testItems:this.testItemsRoot,timeReset:this.timeReset}):this.socket.emit("ready",{room:(this.p1+"-"+this.p2).toString(),player:this.player,testItems:this.testItemsRoot,timeReset:this.timeReset})},makeMemory:function(){for(var t=0,e=this.shuffle(this.amendedList);t<this.words;){var s=e[t];s&&(this.testItemsRoot.push({caption:s.English,code:s.English[0]+s.English[1],answer:s.Chinese,English:s.English,Chinese:s.Chinese,sound:s.mp3en,match:!1,player:null,show:!1,disbaled:!1}),this.testItemsRoot.push({caption:s.Chinese,code:s.English[0]+s.English[1],answer:s.English,English:s.English,Chinese:s.Chinese,sound:s.mp3en,match:!1,player:null,show:!1,disbaled:!1}),t++)}this.shuffle(this.testItemsRoot),"I"===this.testType[1]?this.$emit("ready",{testItems:this.testItemsRoot,timeReset:this.timeReset}):this.socket.emit("ready",{room:(this.p1+"-"+this.p2).toString(),player:this.player,testItems:this.testItemsRoot,timeReset:this.timeReset})},makeSpelling:function(){for(var t=0,e=this.shuffle(this.amendedList);t<this.words;){var s=e[t];if(s){var i="              ";this.spelling&&(i=Object(n.f)(s.English,this.spelling)),this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Spelling:i,Gr:s.Gr,sdQue:s.mp3en,sdAns:s.mp3ch}),t++}else;}this.socket.emit("ready",{room:(this.p1+"-"+this.p2).toString(),player:this.player,testItems:this.testItemsRoot,timeReset:this.timeReset}),this.words<6&&(this.words=parseInt(this.wordsReset))},typoFix:function(t){var e=t.split(" "),s="";for(var i in e)s+=Object(n.b)(e[i]),s+=" ";return s},shuffle:function(t){for(var e=t.length-1;e>0;e--){var s=Math.floor(Math.random()*(e+1)),i=[t[s],t[e]];t[e]=i[0],t[s]=i[1]}return t},goTo:function(t){this.$router.push(t)},playerReady:function(){"p1"===this.player?this.makeTest():this.socket.emit("ready",{room:(this.p1+"-"+this.p2).toString(),player:this.player,testItems:this.testItemsRoot,timeReset:null})},settingsSend:function(t){var e={type:this.testType,sound:this.sound,label:this.label,words:this.words,timeReset:this.timeReset,choices:this.choices,spelling:this.spelling,spellingText:this.spellingText,game:this.game,gameText:this.gameText,sortText:this.sortText,feedbackText:this.feedbackText,display:this.display,feedback:this.feedback};this.socket.emit("settingsData",{room:(this.p1+"-"+this.p2).toString(),settingsData:e})},emitWaiting:function(t){this.$emit("waitUpdate",{wait:t})},updateSettings:function(){localStorage.words?this.words=parseInt(localStorage.words):this.testType.includes("Mem")&&(this.words=8),localStorage.choices&&(this.choices=parseInt(localStorage.choices)),localStorage.feedback&&(this.feedback=localStorage.feedback),localStorage.game&&(this.game=localStorage.game),localStorage.spelling&&(this.spelling=localStorage.spelling),localStorage.sort&&(this.sort=localStorage.sort),localStorage.timeReset&&(this.timeReset=localStorage.timeReset)}},watch:{words:function(){localStorage.setItem("words",this.words),"p1"===this.player&&this.settingsSend()},choices:function(){localStorage.setItem("choices",this.choices),"p1"===this.player&&this.settingsSend()},timeReset:function(){"p1"===this.player&&(localStorage.setItem("timeReset",this.timeReset),this.settingsSend())},feedback:function(){var t=this,e=this.feedbackOptions.filter(function(e){return e.value===t.feedback});this.feedbackText=e[0].text,"p1"===this.player&&(localStorage.setItem("feedback",this.feedback),this.settingsSend())},game:function(){var t=this;console.log(this.player);var e=this.gameOptions.filter(function(e){return e.value===t.game});this.gameText=e[0].text,"p1"===this.player&&(console.log("sending game data"),localStorage.setItem("game",this.game),this.settingsSend())},spelling:function(){var t=this,e=this.spellingOptions.filter(function(e){return e.value===t.spelling});this.spellingText=e[0].text,"p1"===this.player&&(localStorage.setItem("spelling",this.spelling),this.settingsSend())},sort:function(){var t=this,e=this.sortOptions.filter(function(e){return e.value===t.sort});this.sortText=e[0].text,"p1"===this.player&&(localStorage.setItem("sort",this.sort),this.settingsSend())}},computed:{starGet:function(){return this.$store.getters.starGet},quizGet:function(){return console.log("quizGet"),this.$store.getters.quizGet},colGet:function(){return"p2"===this.player?2:"TypeMatch"===this.testType?4:2},getMinMax:function(){return this.testType.includes("Mem")?[6,12]:[6,30]}},created:function(){this.tableItems=this.$store.getters.makeList,this.stringItems=a()(this.tableItems),this.updateSettings(),console.log(this.testType)},mounted:function(){console.log("testType",this.testType),"r"===this.testType[1]||this.testType.includes("AI")?this.timeReset=6:this.timeReset=30;var t=this;t.socket.on("newSettings",function(e){if(console.log("settingsReceived"),console.table(e),"p2"===t.player)for(var s in e.settingsData)t[s]=e.settingsData[s];t.$emit("settings",{feedback:t.feedback,sound:t.sound,gameStyle:t.game})})}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.toolbarShow?t._e():s("div",{staticClass:"matchBar"},[s("div",[s("div",{staticClass:"bg-prime p-2",staticStyle:{height:"60px"},attrs:{align:"center"}},[0===t.waiting?s("div",{class:"buttonDiv text-prime bg-"+t.player,staticStyle:{width:"60%"},on:{click:function(e){t.playerReady(),t.emitWaiting(1)}}},[s("h5",{staticClass:"mt-1"},[t._v(" Ready ")])]):t._e(),t._v(" "),1===t.waiting?s("div",{class:"mb-2 text-center text-"+t.player,staticStyle:{height:"60px"}},[s("b-icon",{attrs:{icon:"three-dots",animation:"cylon","font-scale":"3"}})],1):t._e(),t._v(" "),2===t.waiting?s("div",{class:"mt-2 text-center text-"+t.player,staticStyle:{height:"60px"}},[s("b-spinner",{staticClass:"align-middle"}),t._v("    "),s("strong",[t._v("Loading...")])],1):t._e()]),t._v(" "),t.$store.getters.getHelp?s("div",{staticClass:"helpTab1"},t._l(t.breaker(t.$store.getters.getHelp.Toolbar[t.testType]),function(e,i){return s("h6",{key:i,staticStyle:{"border-bottom":"2px solid grey"}},[t._v(" "+t._s(e)+" ")])}),0):t._e(),t._v(" "),0===t.waiting?s("div",{staticClass:"bg-fade p-2 pb-4"},[s("b-row",{attrs:{cols:"2","cols-xl":t.colGet}},[s("b-col",{staticClass:"mt-3"},[s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv",staticStyle:{width:"120px",display:"inline-block"}},[t._v("\n                Words\n              ")]),t._v(" "),s("div",{staticClass:"spinDiv"},["p1"===t.player?s("b-form-spinbutton",{staticStyle:{width:"120px"},attrs:{min:t.getMinMax[0],max:t.getMinMax[1],step:"2"},model:{value:t.words,callback:function(e){t.words=e},expression:"words"}}):s("div",{staticClass:"redDiv"},[s("h5",[t._v(t._s(t.words))])])],1),t._v(" "),s("br")]),t._v(" "),t.testType.includes("Trans")?s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v("\n                Choices\n              ")]),t._v(" "),s("div",{staticClass:"spinDiv"},["p1"===t.player?s("b-form-spinbutton",{staticStyle:{width:"120px"},attrs:{min:"3",max:"5"},model:{value:t.choices,callback:function(e){t.choices=e},expression:"choices"}}):s("div",{staticClass:"redDiv"},[s("h5",[t._v(t._s(t.choices))])])],1),t._v(" "),s("br")]):t._e(),t._v(" "),t.testType.includes("Mem")?t._e():s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v("\n                Timer\n              ")]),t._v(" "),s("div",{staticClass:"spinDiv"},["p1"===t.player&&"r"===t.testType[1]?s("b-form-spinbutton",{staticStyle:{width:"120px"},attrs:{min:"4",max:"12",step:"2"},model:{value:t.timeReset,callback:function(e){t.timeReset=e},expression:"timeReset"}}):"p1"===t.player&&"y"===t.testType[1]?s("b-form-spinbutton",{staticStyle:{width:"120px"},attrs:{min:"15",max:"60",step:"5"},model:{value:t.timeReset,callback:function(e){t.timeReset=e},expression:"timeReset"}}):s("div",{staticClass:"redDiv"},[s("h5",[t._v(t._s(t.timeReset))])])],1),t._v(" "),s("br")])]),t._v(" "),"p2"===t.player?s("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t._v(" Sort ")]),s("br"),t._v(" "),s("button",{staticClass:"buttonDiv bg-warn-light text-alert",staticStyle:{width:"120px"},attrs:{disabled:""}},[t._v(" "+t._s(t.sortText)+" ")]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),"y"===t.testType[1]?s("div",[s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v(" Assist ")]),s("br"),t._v(" "),s("button",{staticClass:"buttonDiv bg-safe text-alert",staticStyle:{width:"120px"},attrs:{disabled:""}},[t._v(" "+t._s(t.spellingText)+" ")]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v(" Feedback ")]),s("br"),t._v(" "),s("button",{staticClass:"buttonDiv bg-grape-light text-alert",staticStyle:{width:"120px"},attrs:{disabled:""}},[t._v(" "+t._s(t.feedbackText)+" ")]),t._v(" "),s("br"),t._v(" "),s("br")]):t._e(),t._v(" "),t.testType.includes("Mem")?s("div",[s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v(" Game Style ")]),s("br"),t._v(" "),s("button",{staticClass:"buttonDiv bg-safe-light text-alert",staticStyle:{width:"120px"},attrs:{disabled:""}},[t._v(" "+t._s(t.gameText)+" ")]),t._v(" "),s("br"),t._v(" "),s("br")]):t._e()]):t._e(),t._v(" "),"p1"===t.player?s("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v(" Sort ")]),s("br"),t._v(" "),s("div",[s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.sortOptions,buttons:"","button-variant":"outline-warn",stacked:""},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1)]):t._e(),t._v(" "),"p1"===t.player&&t.testType.includes("Mem")?s("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v(" Game")]),s("br"),t._v(" "),s("div",[s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.gameOptions,buttons:"","button-variant":"outline-safe",stacked:""},model:{value:t.game,callback:function(e){t.game=e},expression:"game"}})],1)]):t._e(),t._v(" "),"p1"===t.player&&"y"===t.testType[1]?s("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v(" Feedback ")]),s("br"),t._v(" "),s("div",[s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.feedbackOptions,buttons:"","button-variant":"outline-grape-light",stacked:""},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}})],1)]):t._e(),t._v(" "),"p1"===t.player&&"y"===t.testType[1]?s("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[s("div",{staticClass:"headDiv",staticStyle:{width:"120px"}},[t._v(" Assist ")]),s("br"),t._v(" "),s("div",[s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.spellingOptions,buttons:"","button-variant":"outline-safe",stacked:""},model:{value:t.spelling,callback:function(e){t.spelling=e},expression:"spelling"}})],1)]):t._e()],1)],1):t._e()])])},staticRenderFns:[]};var l=s("VU/8")(r,o,!1,function(t){s("eiSN")},"data-v-19e802d6",null);e.default=l.exports},Lr5f:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"InstAns",props:{mode:String,answerData:Array},components:{},data:function(){return{msg:null,fields:[{key:"Question",label:"Question",sortable:!0},{key:"Answer",label:"Answer",sortable:!0}],audioMarker:null}},methods:{showModal:function(t){this.msg=t,this.$refs.success.show()},showAlert:function(t){this.msg=t,this.$refs.fail.show()},hideModal:function(t){this.$refs[t].hide()},addStar:function(t,e){this.$store.dispatch("newStar",{word:t,set:e})},playAnswer:function(t){console.log(this.dictGet);var e=this.dictGet.filter(function(e){return e.English===t});(console.log("PLAY",e),this.audioMarker)&&document.getElementById(this.audioMarker).setAttribute("class","");this.audioMarker=t;var s=document.getElementById(t);s.setAttribute("class","text-warn");var i=e[0].mp3en,a=document.getElementById("audio");a.src=i,a.play(),a.onended=function(){s.setAttribute("class","")}}},computed:{starGet:function(){return console.log("stars",this.$store.getters.starGet),this.$store.getters.starGet},dictGet:function(){return this.$store.getters.makeList}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"InstAns"}},[s("audio",{attrs:{id:"audio"}}),t._v(" "),s("div",[s("div",{staticClass:"bg-smoke"},[s("b-table",{attrs:{"sticky-header":"",striped:"",hover:"",fixed:"",items:t.answerData,fields:t.fields,"head-variant":"dark"},scopedSlots:t._u([{key:"head(english)",fn:function(e){return[s("div",{attrs:{align:"right"}},[t._v("\n          English\n        ")])]}},{key:"cell(question)",fn:function(e){return[s("div",{staticStyle:{float:"left"}},[e.item.English in t.starGet?[s("b-icon-star-fill",{attrs:{variant:"warn"},on:{click:function(s){return t.addStar(e.item.English,0)}}})]:[s("b-icon-star",{attrs:{variant:"grey"},on:{click:function(s){return t.addStar(e.item.English,1)}}})]],2),t._v(" "),s("div",{attrs:{align:"right"}},[s("span",{attrs:{id:e.item.Question},on:{click:function(s){return t.playAnswer(e.item.Question)}}},[t._v(" "+t._s(e.item.Question))])])]}},{key:"cell(answer)",fn:function(e){return["warn"===e.item._rowVariant?s("div",[s("b-icon",{attrs:{icon:"x",variant:"alert","font-scale":"1"}}),t._v(" "+t._s(e.item.Choice)),s("br"),t._v(" "),s("b-icon",{attrs:{icon:"check2",variant:"safe","font-scale":"1"}}),t._v(" "+t._s(e.item.Answer)+"\n        ")],1):s("div",[t._v("\n          "+t._s(e.item.Answer)+"\n        ")])]}}])})],1)])])},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("N0Rj")},"data-v-11ec9ffc",null);e.default=n.exports},N0Rj:function(t,e){},Ouhc:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"MemoryMatch",components:{ToolbarMatch:s("LR+Q").default},props:{testType:String,p1:Number,p1name:String,p2:Number,p2name:String,player:String,socket:Object,s3:String,gameOver:Boolean,exit:Boolean},data:function(){return{waitUpdate:!1,waiting:0,pageHead:"Memory Match AI",toolbarShow:!0,showAnswers:!1,showTest:!1,showProgress:!1,timeReset:null,hover:!1,ready:[],answered:0,answerData:[],testItems:[],settings:{},fields:["Question","Answer"],progressValues:{p1:0,p2:0,warn:0},p1score:0,p2score:0,btnIDMarker:null,winner:"",winName:"",audioMarker:null,cardMatch:[],disabledMarker:!1,foundCard:null,foundCard2:null,gameStyle:null,botLevel:1,botTries:0}},methods:{botLevelSetter:function(t){"p1"===t&&this.botLevel<4?this.botLevel+=1:"p1"===t&&4===this.botLevel?(this.botLevel=5,this.showComplete()):"p2"===t&&1!==this.botLevel&&(this.botLevel-=1)},go:function(t){t.testItems.length>0&&(this.testItems=t.testItems),console.log(this.timeReset),this.waiting=1},addStar:function(t,e){this.$store.dispatch("newStar",{word:t,set:e})},showWin:function(){this.$refs.win.show()},showLose:function(){this.$refs.lose.show()},showDraw:function(){this.$refs.draw.show()},showComplete:function(){this.$refs.complete.show()},hideModal:function(t){"win"===t?this.$refs.win.hide():"lose"===t?this.$refs.lose.hide():"draw"===t?this.$refs.draw.hide():"complete"===t&&(this.$refs.complete.hide(),this.leave()),this.progressValues.p1=0,this.progressValues.p2=0,this.progressValues.warn=0,this.winner="",this.winName=""},getMessage:function(t){var e=[];e="win"===t?["So you think you're smart? Keep it up and I'll level up","Nice work, my memory is not as good as it used to be","Pretty good so far, maybe I should try cheating?"]:["Well, I guess you need more practice","You lose, don't feel bad, I'm pretty good at this","Too bad, not many people can best me"];return'"'+this.AIshuffle(e)[0]+'"'},nameCut:function(t){var e=t.split(" ")[0];return e.length>7?e[0]:e},start:function(){this.showAnswers=!1,this.showProgress=!0,this.answerData=[],this.showTest=!0,this.botTries=0},readyCheck:function(){if(2===this.ready.length){this.waiting=2,"p2"===this.player&&(this.disabledMarker=!0);var t=this;t.startTimer=setTimeout(function(){t.start(),t.waiting=0,t.ready=[],t.startTimer=null},3e3)}},getCardClass:function(t){var e=this.testItems.find(function(e){return e.caption===t}),s="";return e!==this.foundCard&&e!==this.foundCard2||(s="borderDiv"),e.match?"basic text-prime bg-"+e.player:e.show?"basic text-prime bg-"+e.player+"-light "+s:this.disabledMarker?"basic text-cream bg-darkgrey":"basic text-prime bg-warn-light"},getDisabled:function(t){var e=this.testItems.find(function(e){return e.caption===t});return!!this.disabledMarker||e.disabled},showStatus:function(t){return this.testItems.find(function(e){return e.caption===t}).show},showCard:function(t,e,s){var i=!1,a=1;2===this.cardMatch.length?(this.disabledMarker=!0,a=2,this.cardMatch.includes(t)&&(i=!0),this.cardMatch=[],this.recordAnswer({card:t,match:i,answer:e,player:s,count:a})):0===this.cardMatch.length?(this.cardMatch.push(e),this.cardMatch.push(t),this.recordAnswer({card:t,match:i,answer:e,player:s,count:a})):(this.disabledMarker=!0,this.cardMatch=[])},showCardAI:function(){var t=this.testItems.filter(function(t){return!1===t.match}),e=this.AIshuffle(t),s=[null,8,7,6,5],i=void 0;this.botTries<s[this.botLevel]?(i=3,this.botTries+=1):i=this.getRandomInt(s[this.botLevel]);var a=void 0,n=void 0,r=e[0],o=e.find(function(t){return t.caption===r.answer});[0,1,2].includes(i)||e.length<4?(a=!0,n=o):(a=!1,n=e[1]!==o?e[1]:e[2]);var l=this;setTimeout(function(){r.match=a,r.disabled=a,r.show=!0,r.player="p2",l.foundCard=r,setTimeout(function(){n.match=a,n.disabled=a,n.show=!0,n.player="p2",l.foundCard2=n,a&&l.playAudio(n.sound),setTimeout(function(){a?l.enterResult(r.English,r.Chinese,"p2",!0):(r.show=!1,n.show=!1),l.foundCard=null,l.foundCard2=null,a&&l.gameStyle.includes("1")?l.disabledMarker=!1:a&&l.gameStyle.includes("2")&&e.length>2?l.showCardAI():l.disabledMarker=!1},2e3)},1e3)},1e3)},getRandomInt:function(t){return Math.floor(Math.random()*Math.floor(t))},AIshuffle:function(t){for(var e=t.length-1;e>0;e--){var s=Math.floor(Math.random()*(e+1)),i=[t[s],t[e]];t[e]=i[0],t[s]=i[1]}return t},recordAnswer:function(t){var e=this;console.log("answerCard",t);var s=e.testItems.find(function(e){return e.caption===t.card}),i=e.testItems.find(function(e){return e.caption===t.answer});console.log(s,i),1===t.count?(s.show=!0,s.player=t.player,s.disabled=!0,e.foundCard=s):2===t.count&&(s.show=!0,s.player=t.player,s.disabled=!0,e.foundCard2=s,t.match?(e.disabledMarker=!0,s.disabled=!0,e.foundCard.disabled=!0,s.match=!0,e.foundCard.match=!0,e.playAudio(s.sound),e.enterResult(s.English,s.Chinese,t.player,!0),setTimeout(function(){e.foundCard=null,e.foundCard2=null,e.gameStyle.includes("2")?e.disabledMarker=!1:e.showCardAI()},2e3)):(e.disabledMarker=!0,setTimeout(function(){s.show=!1,e.foundCard.show=!1,s.player=null,e.foundCard.player=null,s.disabled=!1,e.foundCard.disabled=!1,e.foundCard=null,e.foundCard2=null,e.showCardAI()},2e3)))},enterResult:function(t,e,s,i){console.log("ENTER",this.player);var a=s,n=0,r=t;this.player===s&&(n=1);var o={Question:t,Answer:e,_rowVariant:a,Score:n,English:r};this.progressValues[a]+=1,this.answerData.push(o),this.progressValues.p1+this.progressValues.p2===this.testItems.length/2&&this.checkAnswers()},checkAnswers:function(){console.log("CHECK",this.player);var t=this.progressValues.p1,e=this.progressValues.p2;this.p1score+=this.progressValues.p1,this.p2score+=this.progressValues.p2,t>e?(this.winner="p1",this.winName=this.p1name,this.botLevelSetter("p1"),this.showWin()):e>t?(this.winner="p2",this.winName=this.p2name,this.showLose(),this.botLevelSetter("p2")):this.showDraw();var s=void 0;s=t===e?0:t>e&&"p1"===this.player?1:e>t&&"p2"===this.player?1:-1,this.botLevelSetter(),this.$store.dispatch("updateMatch",{mode:"matchTrans",winnerStatus:s}),this.$store.dispatch("updateRecord",{mode:"matchTrans",answerData:this.answerData,settingsData:this.settings}),this.showAnswers=!0,this.showTest=!1,this.disabledMarker=!1},updateSettings:function(t){console.log("update active",t),this.gameStyle=t.gameStyle},playAudio:function(t){console.log("PLAY",t,this.player);var e=document.getElementById("audio");e.src=t,e.play()},playAnswer:function(t){console.log(t);var e=this.dictGet.find(function(e){return e.English===t});console.log("PLAY",e);var s=e.mp3en;this.audioMarker&&document.getElementById(this.audioMarker).setAttribute("class","");this.audioMarker=t;var i=document.getElementById(t);i.setAttribute("class","text-warn");var a=document.getElementById("audio");a.src=s,a.play(),a.onended=function(){i.setAttribute("class","")}},leave:function(){this.$emit("leave",{})}},watch:{gameOver:function(){this.showTest=!1,this.showAnswers=!0,this.waiting=3,clearInterval(this.clock)},exit:function(){this.leave()},waiting:function(){var t=this;1===this.waiting&&(this.waiting=2,this.ready.push("p1"),setTimeout(function(){t.showTest=!0,t.ready=[],t.waiting=0,t.start()},2e3))}},computed:{starGet:function(){return this.$store.getters.starGet},dictGet:function(){return this.$store.getters.makeList},cardText:function(){return"SA1"===this.gameStyle?"caption":"E"===this.gameStyle[0]?"English":"T"===this.gameStyle[0]?"caption":void 0},getBot:function(){return[{1:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/avatar/robot_05.PNG",2:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/avatar/robot_06.PNG",3:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/avatar/robot_07.PNG",4:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/100000/avatar.jpg",5:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/avatar/robot_08.PNG"}[this.botLevel],{1:"Level1",2:"Level2",3:"Level3",4:"Level4",5:"Level5"}[this.botLevel]]}},created:function(){console.log("testType",this.testType)},beforeDestroy:function(){console.log("LEAVE"),this.answered=0,this.showTest=!1}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MemoryMatch"},[s("audio",{attrs:{id:"audio"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"bg-second"},[s("div",{staticClass:"bg-third p-3",staticStyle:{height:"100px"}},[s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.s3+t.p1.toString()+".jpg",size:"65px",badge:t.nameCut(t.p1name),"badge-offset":"-0.6em","badge-variant":"p1"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-prime badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p1score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p1")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1),t._v(" "),s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.getBot[0],size:"65px",badge:t.getBot[1],"badge-offset":"-0.6em","badge-variant":"p2"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-p2 badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p2score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p2")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1)],1)],1),t._v(" "),s("div",{staticStyle:{height:"20px"}},[t.showProgress?s("b-progress",{staticStyle:{height:"20px"},attrs:{max:1,"show-value":""}},[s("b-progress-bar",{attrs:{value:t.progressValues.p1,variant:"p1"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.warn,variant:"warn-light"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.p2,variant:"p2"}})],1):t._e()],1)]),t._v(" "),s("ToolbarMatch",{attrs:{toolbarShow:t.showTest,p1:t.p1,p2:t.p2,p1name:t.p1name,p2name:t.p2name,socket:t.socket,player:t.player,waiting:t.waiting,showAnswers:t.showAnswers,testType:t.testType},on:{waitUpdate:function(e){t.waitUpdate=!0},settings:function(e){return t.updateSettings(e)},ready:function(e){return t.go(e)}}}),t._v(" "),t.showTest?s("div",{staticClass:"bg-grey",attrs:{align:"center"}},[s("div",{staticStyle:{height:"30px"}}),t._v(" "),t._l(t.testItems,function(e,i){return s("div",{key:i,staticClass:"d-inline mt-3"},[s("button",{class:t.getCardClass(e.caption),staticStyle:{display:"inline-block"},attrs:{id:e.caption,disabled:t.getDisabled(e.caption)},on:{click:function(s){return t.showCard(e.caption,e.answer,"p1")}}},[s("div",{staticClass:"divHeight textLine py-2"},[2===t.$store.state.userProfile.userID?s("span",[t._v(" "+t._s(e.code)+" ")]):t.showStatus(e.caption)||"SA1"===t.gameStyle?s("span",[t._v(" "+t._s(e[t.cardText])+" ")]):t.showStatus(e.caption)?t._e():s("span",[t._v(t._s(i+1))])])])])}),t._v(" "),s("div",{staticStyle:{height:"30px"}})],2):t._e(),t._v(" "),t.showAnswers?s("div",{staticClass:"bg-smoke"},[s("div",{staticClass:"mt-2"},[s("b-table",{attrs:{striped:"",hover:"",items:t.answerData,fields:t.fields},scopedSlots:t._u([{key:"head(question)",fn:function(e){return[s("div",{attrs:{align:"right"}},[t._v("\n          Question\n        ")])]}},{key:"cell(question)",fn:function(e){return[s("div",{staticStyle:{float:"left"}},[e.item.English in t.starGet?[s("b-icon-star-fill",{attrs:{variant:"warn"},on:{click:function(s){return t.addStar(e.item.English,0)}}})]:[s("b-icon-star",{attrs:{variant:"grey"},on:{click:function(s){return t.addStar(e.item.English,1)}}})]],2),t._v(" "),s("div",{attrs:{align:"right"}},[s("span",{attrs:{id:e.item.Question},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.Question))])])]}},{key:"cell(answer)",fn:function(e){return[s("span",{attrs:{id:e.item.Answer},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.Answer))])]}}],null,!1,1376827294)})],1)]):t._e(),t._v(" "),s("b-modal",{ref:"win",attrs:{align:"center","hide-footer":"",title:"Game Over","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("b-avatar",{attrs:{src:t.getBot[0],size:"100px"}}),t._v(" "),s("h3",[t._v(t._s(t.getMessage("win"))+" ")])],1),t._v(" "),s("br"),t._v(" "),s("button",{class:"buttonDiv mt-3 text-prime bg-"+t.player,staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("win")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"lose",attrs:{align:"center","hide-footer":"",title:"Game Over","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("b-avatar",{attrs:{src:t.getBot[0],size:"100px"}}),t._v(" "),s("h3",[t._v(t._s(t.getMessage("lose"))+" ")])],1),t._v(" "),s("br"),t._v(" "),s("button",{class:"buttonDiv mt-3 text-cream bg-alert",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("lose")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"draw",attrs:{align:"center","hide-footer":"",title:"Result","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" It's a draw! ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("draw")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"complete",attrs:{align:"center","hide-footer":"",title:"CONGRATULATIONS","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("b-avatar",{attrs:{src:t.getBot[0],size:"100px"}}),t._v(" "),s("h3",[t._v(" You have defeated AI Bot! ")])],1),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-safe text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("complete")}}},[t._v("Close")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-grape p-2 head"},[e("h2",{staticClass:"text-cream",attrs:{align:"center"}},[this._v(" Memory AI ")])])}]};var n=s("VU/8")(i,a,!1,function(t){s("ZREN")},"data-v-3bda04ef",null);e.default=n.exports},PqGl:function(t,e){},UYEZ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("0xDb"),r={name:"ToolbarQuiz",props:{toolbarShow:Boolean,showAnswers:Boolean,testType:String,testAns:String,index:String},data:function(){return{showToolbar:!0,wordsReset:"12",choices:4,retry:!1,testItemsRoot:[],amendedList:[],vocabList:[],selected:null,toolbarSettings:{},optionsA:[{value:null,text:"---"}],label:"lbOff",sound:"sdOff",spelling:"---",sort:"q",display:"text_On",feedback:"fbNone"}},methods:{showWarn:function(){this.$refs.warning.show()},hideWarn:function(t){console.log("hideWarn"),"start"===t?(this.$refs.warning.hide(),this.makeTest()):this.$refs.warning.hide()},makeTest:function(){for(var t in console.log("make test"),this.testItemsRoot=[],this.vocabList=JSON.parse(this.stringItems),this.amendedList=[],this.vocabList)this.quizList.includes(this.vocabList[t].English)&&this.amendedList.push(this.vocabList[t]);"typeTest"===this.testType?this.makeSpelling():this.makeChoices()},makeChoices:function(){var t=void 0,e=void 0,s=void 0,i=void 0,n=void 0;this.testType.includes("E>")?(t="English",e="Chinese",i="mp3en",s="mp3ch"):(t="Chinese",e="English",i="mp3ch",s="mp3en"),n="Dict"===this.testAns?this.vocabList:this.amendedList;for(var r=0,o=this.shuffle(this.amendedList);r<this.words;){var l=o[r];if(l){for(var c=[{Question:l[t],Answer:l[e],Gr:l.Gr,sdQue:l[i],sdAns:l[s]}],h=1,d=function(){var a=n[Math.floor(Math.random()*n.length)];c.find(function(e){return e.Question===a[t]})||(c.push({Question:a[t],Answer:a[e],Gr:a.Gr,sdQue:a[i],sdAns:a[s]}),h++)};h<this.choices;)d();var u=this.shuffle(c);this.testItemsRoot.push({Question:l[t],Answer:l[e],Gr:l.Gr,sdQue:l[i],sdAns:l[s],Choices:u}),r++}else;}this.toolbarSettings={type:this.testType,sound:this.sound,label:this.label,words:this.words,choices:this.choices,sort:this.sort},console.log("emit"),this.$emit("newTest",{test:this.testItemsRoot,settings:a()(this.toolbarSettings)})},makeSpelling:function(){for(var t=0,e=this.shuffle(this.amendedList);t<this.words;){var s=e[t];if(s)if(this.spelling&&"abbr."===s.Gr);else{var i="______________";this.spelling&&(i=Object(n.f)(s.English,this.spelling)),this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Spelling:i,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}),t++}else;}this.toolbarSettings={type:this.testType,sound:this.sound,words:this.words,choices:this.choices,sort:this.sort,spelling:this.spelling,display:this.display,feedback:this.feedback},this.$emit("newTest",{test:this.testItemsRoot,type:this.testType,settings:a()(this.toolbarSettings)})},typoFix:function(t){var e=t.split(" "),s="";for(var i in e)s+=Object(n.b)(e[i]),s+=" ";return s},shuffle:function(t){for(var e=t.length-1;e>0;e--){var s=Math.floor(Math.random()*(e+1)),i=[t[s],t[e]];t[e]=i[0],t[s]=i[1]}return t}},computed:{testRecords:function(){return this.$store.state.instructor.testRecords},activeQuiz:function(){return this.$store.state.instructor.activeQuiz},quizList:function(){return console.log("quizList",this.index,this.$store.state.instructor.testRecords[this.index]),this.$store.state.instructor.testRecords[this.index].list},words:function(){return this.quizList.length}},created:function(){this.tableItems=this.$store.getters.makeList,this.stringItems=a()(this.tableItems)}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.toolbarShow?t._e():s("div",{staticClass:"toolbar"},[s("div",{staticClass:"bg-prime p-2 mt-0"},[s("b-row",[s("b-col",{attrs:{align:"center",cols:"3"}}),t._v(" "),s("b-col",{attrs:{align:"center"}},[s("button",{staticClass:"buttonDiv bg-info text-cream px-3 mr-3",staticStyle:{width:"100%",height:"50px"},on:{click:function(e){t.showWarn(),t.showToolbar=!1}}},[s("b-icon-forward",{attrs:{variant:"cream","font-scale":"1.5"}}),s("span",{staticStyle:{"font-size":"16pt"}},[t._v(" START")])],1)]),t._v(" "),s("b-col",{attrs:{align:"center",cols:"3"}},[s("button",{staticClass:"buttonDiv bg-alert px-3 text-cream",staticStyle:{height:"50px"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" X ")])])],1)],1),t._v(" "),s("b-modal",{ref:"warning",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Quiz Mode"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" There are "+t._s(t.words)+" words in this quiz ")]),t._v(" "),s("h6",[t._v(" If you exit the quiz early your grade will be incomplete ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-second text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideWarn("start")}}},[t._v("Start")]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-alert text-cream",staticStyle:{width:"40%"},on:{click:function(e){return t.hideWarn("cancel")}}},[t._v("Cancel")])])],1)},staticRenderFns:[]};var l=s("VU/8")(r,o,!1,function(t){s("aOfb")},"data-v-51fc4fab",null);e.default=l.exports},XdxJ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"TransMatch",components:{ToolbarMatch:s("LR+Q").default},props:{testType:String,p1:Number,p1name:String,p2:Number,p2name:String,player:String,socket:Object,s3:String,gameOver:Boolean,exit:Boolean},data:function(){return{waiting:0,pageHead:"Translation Match",toolbarShow:!0,showAnswers:!1,showTest:!1,showProgress:!1,timeReset:null,hover:!1,ready:[],answered:0,answerData:[],filter:null,testItems:[],settings:{},fields:["Question","Answer"],time:null,clock:null,clockBlock:!1,startTimer:null,countDown:null,progressValues:{p1:0,p2:0,warn:0},p1score:0,p2score:0,btnIDMarker:null,playerDude:null,winner:"",winName:"",audioMarker:null}},methods:{addStar:function(t,e){this.$store.dispatch("newStar",{word:t,set:e})},showWinner:function(){this.$refs.winner.show()},showDraw:function(){this.$refs.draw.show()},hideModal:function(t){"winner"===t?this.$refs.winner.hide():"draw"===t&&this.$refs.draw.hide(),this.progressValues.p1=0,this.progressValues.p2=0,this.progressValues.warn=0,this.winner="",this.winName=""},nameCut:function(t){var e=t.split(" ")[0];return e.length>7?e[0]:e},setCountdown:function(){console.log("SET",this.player),this.time=this.timeReset;var t=this;this.clock=setInterval(function(){0!==t.time||t.clockBlock?t.time-=100:(t.clockBlock=!0,t.recordDisable(),t.time-=100)},100)},start:function(){console.log("START",this.player),this.showAnswers=!1,this.showProgress=!0,this.filter=0,this.answerData=[],this.showTest=!0},readyCheck:function(){if(console.log("length",this.ready,this.ready.length,this.player),2===this.ready.length){this.waiting=2;var t=this;t.startTimer=setTimeout(function(){t.start(),t.waiting=0,t.ready=[],t.startTimer=null},3e3)}},recordAnswer:function(t,e,s){console.log("RECORD",this.player);var i=t+s,a=s===e;this.socket.emit("answer",{room:this.p1+"-"+this.p2,name:t,answer:e,btnID:i,player:this.player,state:a})},recordDisable:function(){console.log("DISABLE RESULT",this.player),clearInterval(this.clock),this.clockBlock=!1,this.socket.emit("answer",{room:this.p1+"-"+this.p2,name:null,answer:null,btnID:null,player:this.player,state:!1})},disable:function(t,e,s,i,a){console.log("DISABLE",this.player);var n="bg-"+s+"-light",r=document.getElementById(e);if(r){i?r.classList.add("correct"):r.classList.add("mistake"),r.classList.add(n),r.disabled=!0;var o=document.getElementsByName(t);if(console.log("Stage2",s,this.player,i),s===this.player)for(var l=0;l<o.length;l++)o[l].disabled=!0;else if(i)for(var c=0;c<o.length;c++)o[c].disabled=!0}else{t=this.testItems[this.filter].Question,a=this.testItems[this.filter].Answer,console.log("Stage3",t,a);for(var h=document.getElementsByName(t),d=0;d<h.length;d++)h[d].disabled=!0}i||1===this.answered?(this.answered=1,this.nextQuestion(t,a,s,i)):0===this.answered&&(this.answered=1,this.setCountdown())},nextQuestion:function(t,e,s,i){console.log("NEXT",this.player),clearInterval(this.clock),this.answered=2,this.time=null;var a=this;a.countdown=setTimeout(function(){console.log("TIMEOUT",a.playerDude),a.answered=0,a.enterResult(t,e,s,i),a.filterToggle(),a.countDown=null},2e3)},enterResult:function(t,e,s,i){console.log("ENTER",this.player);var a="warn",n=0,r=t;i&&(a=s,n=1),"C"===this.testType[5]&&(r=e);var o={Question:t,Answer:e,_rowVariant:a,Score:n,English:r};this.progressValues[a]+=1,this.answerData.push(o)},filterToggle:function(){console.log("FILTER",this.player),this.filter+1<this.testItems.length?this.filter+=1:(this.filter=null,this.showTest=!1,this.showProgress=!1,this.checkAnswers())},checkAnswers:function(){console.log("CHECK",this.player);var t=this.progressValues.p1,e=this.progressValues.p2;this.p1score+=this.progressValues.p1,this.p2score+=this.progressValues.p2,t>e?(this.winner="p1",this.winName=this.p1name,this.showWinner()):e>t?(this.winner="p2",this.winName=this.p2name,this.showWinner()):this.showDraw();var s=void 0;s=t===e?0:t>e&&"p1"===this.player?1:e>t&&"p2"===this.player?1:-1,this.$store.dispatch("updateMatch",{mode:"matchTrans",winnerStatus:s}),this.$store.dispatch("updateRecord",{mode:"matchTrans",answerData:this.answerData,settingsData:this.settings}),this.showAnswers=!0},playAudio:function(t){console.log("PLAY",t,this.player);var e=document.getElementById("audio");e.src=t,e.play()},playAnswer:function(t){var e=this.dictGet.filter(function(e){return e.English===t});(console.log("PLAY",e),this.audioMarker)&&document.getElementById(this.audioMarker).setAttribute("class","");this.audioMarker=t;var s=document.getElementById(t);s.setAttribute("class","text-warn");var i=e[0].mp3en,a=document.getElementById("audio");a.src=i,a.play(),a.onended=function(){s.setAttribute("class","")}},leave:function(){this.$emit("leave",{})}},watch:{filter:function(){var t=this.testItems[this.filter];t&&"sdOff"!==this.sound&&this.playAudio(t.sdQue)},gameOver:function(){this.showTest=!1,this.showAnswers=!0,this.waiting=3,clearInterval(this.clock)},hover:function(){if(!0===this.hover){var t=this.testItems[this.filter];this.playAudio(t.sdQue)}},exit:function(){this.leave()}},computed:{starGet:function(){return this.$store.getters.starGet},dictGet:function(){return this.$store.getters.makeList}},created:function(){this.playerDude={p1:"p1",p2:"p2"}[this.player]},beforeDestroy:function(){console.log("LEAVE"),this.answered=0,this.filter=null,this.showTest=!1,this.clock&&(clearInterval(this.clock),this.clock=null),this.startTimer&&(clearTimeout(this.startTimer),this.startTimer=null),this.countDown&&(clearTimeout(this.countDown),this.countDown=null)},mounted:function(){var t=this;t.socket.on("go",function(e){console.log("roomReady",e,e.testItems.length),t.room=e.room,e.testItems.length>0&&(t.testItems=e.testItems,t.timeReset=1e3*e.timeReset),t.ready.includes(e.player)||(t.ready.push(e.player),console.log(e.player,t.ready)),t.readyCheck()}),t.socket.on("answerMatch",function(e){e.btnID===t.btnIDMarker?console.log("duplicate answer"):(console.log("no duplicate"),t.btnIDMarker=e.btnID,t.disable(e.name,e.btnID,e.player,e.state,e.answer))})}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TransEng"},[s("audio",{attrs:{id:"audio"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"bg-second"},[s("div",{staticClass:"bg-third p-3 ",staticStyle:{height:"100px"}},[s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.s3+t.p1.toString()+".jpg",size:"65px",badge:t.nameCut(t.p1name),"badge-offset":"-0.6em","badge-variant":"p1"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-prime badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p1score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p1")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1),t._v(" "),s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.s3+t.p2.toString()+".jpg",size:"65px",badge:t.nameCut(t.p2name),"badge-offset":"-0.6em","badge-variant":"p2"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-p2 badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p2score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p2")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1)],1)],1),t._v(" "),s("div",{staticStyle:{height:"20px"}},[t.showProgress?s("b-progress",{staticStyle:{height:"20px"},attrs:{max:1,"show-value":""}},[s("b-progress-bar",{attrs:{value:t.progressValues.p1,variant:"p1"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.warn,variant:"warn-light"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.p2,variant:"p2"}})],1):t._e()],1),t._v(" "),s("div",{staticStyle:{height:"20px"}},[t.time?s("b-progress",{staticStyle:{height:"20px"},attrs:{value:t.time,max:t.timeReset,variant:"grape"}}):t._e()],1)]),t._v(" "),s("ToolbarMatch",{attrs:{toolbarShow:t.showTest,p1:t.p1,p2:t.p2,p1name:t.p1name,p2name:t.p2name,socket:t.socket,player:t.player,waiting:t.waiting,showAnswers:t.showAnswers,testType:t.testType},on:{waitUpdate:function(e){t.waiting=1}}}),t._v(" "),t.showTest?s("div",{staticClass:"bg-grey"},t._l(t.testItems,function(e,i){return s("div",{key:i},[t.testItems.indexOf(e)===t.filter?s("div",{staticClass:"bg-second questionDiv",class:{active:"active1"},attrs:{align:"center"},on:{click:function(s){return t.playAudio(e.sdQue)},mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[s("h3",["sdEx"!==t.settings.sound||1==t.hover?s("span",[t._v(" "+t._s(e.Question)+" ")]):t._e(),t._v(" "),"sdEx"==t.settings.sound||"sdOn"==t.settings.sound?s("span",[s("b-icon-soundwave")],1):t._e()])]):t._e(),t._v(" "),t.testItems.indexOf(e)===t.filter?s("div",{staticClass:"p-3"},t._l(e.Choices,function(i,a){return s("div",{key:a},[s("button",{staticClass:"answerBtn bg-prime text-cream",attrs:{name:e.Question,id:e.Question+i.Answer,block:""},on:{click:function(s){return t.recordAnswer(e.Question,e.Answer,i.Answer)}}},[t._v("\n              "+t._s(i.Answer)+"\n            ")]),t._v(" "),s("br"),t._v(" "),s("br")])}),0):t._e()])}),0):t._e(),t._v(" "),t.showAnswers?s("div",{staticClass:"bg-smoke"},[s("div",{staticClass:"mt-2"},[s("b-table",{attrs:{striped:"",hover:"",items:t.answerData,fields:t.fields},scopedSlots:t._u([{key:"head(question)",fn:function(e){return[s("div",{attrs:{align:"right"}},[t._v("\n          Question\n        ")])]}},{key:"cell(question)",fn:function(e){return[s("div",{staticStyle:{float:"left"}},[e.item.English in t.starGet?[s("b-icon-star-fill",{attrs:{variant:"warn"},on:{click:function(s){return t.addStar(e.item.English,0)}}})]:[s("b-icon-star",{attrs:{variant:"grey"},on:{click:function(s){return t.addStar(e.item.English,1)}}})]],2),t._v(" "),s("div",{attrs:{align:"right"}},[s("span",{attrs:{id:e.item.Question},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.Question))])])]}},{key:"cell(answer)",fn:function(e){return[s("span",{attrs:{id:e.item.Answer},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.Answer))])]}}],null,!1,1376827294)})],1)]):t._e(),t._v(" "),s("b-modal",{ref:"winner",attrs:{align:"center","hide-footer":"",title:"Game Over","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" And the winner is... ")]),t._v(" "),s("b-avatar",{attrs:{src:t.s3+t.winner.toString()+".jpg",size:"100px",badge:t.winName,"badge-offset":"-0.6em","badge-variant":t.winner}})],1),t._v(" "),s("br"),t._v(" "),s("button",{class:"buttonDiv mt-3 text-prime bg-"+t.player,staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("winner")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"draw",attrs:{align:"center","hide-footer":"",title:"Result","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" It's a draw! ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("draw")}}},[t._v("Close")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-grape p-2 head",attrs:{align:"center"}},[e("h2",{staticClass:"text-cream"},[this._v(" Match ")])])}]};var n=s("VU/8")(i,a,!1,function(t){s("0Q6Y")},"data-v-289ada70",null);e.default=n.exports},"ZE+q":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"TypeMatch",components:{ToolbarMatch:s("LR+Q").default},props:{testType:String,p1:Number,p1name:String,p2:Number,p2name:String,player:String,socket:Object,s3:String,gameOver:Boolean,exit:Boolean},data:function(){return{waiting:0,pageHead:"Typing Match",toolbarShow:!0,showToolbar:!0,showAnswers:!1,showTest:!1,showProgress:!1,timeReset:30,hover:!1,ready:[],answered:0,blocker:!1,loadNew:!1,answerData:[],filter:null,testItems:[],currentAnswerHome:"",currentAnswerAway:"",awayStyle:"text-alert",feedback:null,sound:null,fields:["English","Chinese","Time"],time:null,clock:null,progressValues:{p1:0,p2:0,warn:0},p1score:0,p2score:0,btnIDMarker:null,winner:"",winName:"",audioMarker:null}},methods:{addStar:function(t,e){this.$store.dispatch("newStar",{word:t,set:e})},showWinner:function(){this.$refs.winner.show()},showDraw:function(){this.$refs.draw.show()},hideModal:function(t){"winner"===t?this.$refs.winner.hide():"draw"===t&&this.$refs.draw.hide(),this.progressValues.p1=0,this.progressValues.p2=0,this.progressValues.warn=0,this.winner=""},updateSettings:function(t){console.log("update active",t),this.feedback=t.feedback,this.timeReset=t.timeReset},nameCut:function(t){var e=t.split(" ")[0];return e.length>7?e[0]:e},setCountdown:function(){this.time=this.timeReset;var t=this;this.clock=setInterval(function(){0===t.time?t.clock&&(document.getElementById("homeInput").disabled=!0,t.recordDraw(),t.time-=100):t.time-=100},100)},start:function(){this.showAnswers=!1,this.showProgress=!0,this.filter=0,this.answerData=[],this.showTest=!0,this.setCountdown()},readyCheck:function(){if(console.log("length",this.ready,this.ready.length),2===this.ready.length){this.waiting=2;var t=this;setTimeout(function(){t.start(),t.waiting=0,t.ready=[]},3e3)}},submitAnswer:function(){console.log("sub action"),document.getElementById("homeInput").disabled=!0,this.socket.emit("answerSend",{room:this.p1+"-"+this.p2,answer:this.currentAnswerHome,opponent:this.opponent,player:this.player,state:this.validCheck})},recordAnswer:function(t){console.log("record action"),this.loadNew=!0;var e=(this.timeReset-this.time)/1e3;clearInterval(this.clock),this.clock=null,this.time=null;var s=t.player,i=0;t.player===this.player&&(i=1);var a={English:this.testItems[this.filter].English,Chinese:this.testItems[this.filter].Chinese,_rowVariant:s,Time:e+"s",Score:i};this.progressValues[s]+=1,this.answerData.push(a),this.nextQuestion()},recordDraw:function(){console.log("record draw"),document.getElementById("homeInput").disabled=!0,this.loadNew=!0,clearInterval(this.clock),this.clock=null,this.time=null;var t={English:this.testItems[this.filter].English,Chinese:this.testItems[this.filter].Chinese,_rowVariant:"warn",Time:"---",Score:0};this.progressValues.warn+=1,this.answerData.push(t),this.nextQuestion()},nextQuestion:function(){document.getElementById("homeInput").disabled=!0,document.getElementById("awayInput").type="text";var t=this;setTimeout(function(){t.currentAnswerHome="",t.currentAnswerAway="",document.getElementById("homeInput").disabled=!1,document.getElementById("awayInput").type="password",t.loadNew=!1,t.answered=0,t.filterToggle()},3e3)},filterToggle:function(){this.filter+1<this.testItems.length?(this.filter+=1,this.setCountdown()):(this.filter=null,this.showTest=!1,this.showProgress=!1,this.blocker=null,this.checkAnswers())},checkAnswers:function(){console.log("CHECK",this.player);var t=this.progressValues.p1,e=this.progressValues.p2;this.p1score+=this.progressValues.p1,this.p2score+=this.progressValues.p2,t>e?(this.winner="p1",this.winName=this.p1name,this.showWinner()):e>t?(this.winner="p2",this.winName=this.p2name,this.showWinner()):this.showDraw();var s=void 0;s=t===e?0:t>e&&"p1"===this.player?1:e>t&&"p2"===this.player?1:-1,this.$store.dispatch("updateMatch",{mode:"matchTrans",winnerStatus:s}),this.$store.dispatch("updateRecord",{mode:"matchTrans",answerData:this.answerData,settingsData:this.settings}),this.showAnswers=!0},playAudio:function(t){var e=document.getElementById("audio");e.src=t,e.play()},playAnswer:function(t){var e=this.dictGet.filter(function(e){return e.English===t});(console.log("PLAY",e),this.audioMarker)&&document.getElementById(this.audioMarker).setAttribute("class","");this.audioMarker=t;var s=document.getElementById(t);s.setAttribute("class","text-warn");var i=e[0].mp3en,a=document.getElementById("audio");a.src=i,a.play(),a.onended=function(){s.setAttribute("class","")}},leave:function(){this.$emit("leave")},validStyle:function(t){var e=this.validCheck,s=this.validAnswer;return"fbComp"!==t||e?"fbComp"===t&&e?"bg-safe-light":"fbConst"!==t||s?"fbConst"===t&&s?"bg-safe-light":"bg-cream":"bg-alert-light":"bg-cream"}},watch:{filter:function(){var t=this.testItems[this.filter];t&&"sdOff"!==this.sound&&this.playAudio(t.sdQue)},gameOver:function(){this.showTest=!1,this.showAnswers=!0,this.waiting=3,clearInterval(this.clock)},currentAnswerHome:function(){this.socket.emit("updateType",{room:this.p1+"-"+this.p2,opponent:this.opponent,current:this.currentAnswerHome,player:this.player,state:this.signalStyle})},exit:function(){this.leave()}},computed:{starGet:function(){return this.$store.getters.starGet},dictGet:function(){return this.$store.getters.makeList},inputStyle:function(){return{"font-size":"30px",width:this.answerLength+"0%","text-align":"center","max-width":"100%"}},headerClass:function(){return"mt-2 p-2 text-prime bg-"+this.player},answerLength:function(){return this.testItems[this.filter].English.length},signalStyle:function(){return this.validAnswer&&!this.validCheck?"bg-cream text-second":this.validCheck?"bg-cream text-safe":"bg-cream text-alert"},validAnswer:function(){var t=null,e=this.currentAnswerHome;if(""===e)return!1;t=e.length;var s=this.testItems[this.filter].English;return e===this.testItems[this.filter].English||(e===s.substr(0,t)||!(t>0)&&void 0)},validCheck:function(){var t=this.testItems[this.filter].English;return this.currentAnswerHome===t},opponent:function(){return"p1"===this.player?"p2":"p1"}},beforeDestroy:function(){clearInterval(this.clock),this.clock=null},mounted:function(){var t=this;t.socket.on("go",function(e){t.room=e.room,e.testItems.length>0&&(t.testItems=e.testItems,t.timeReset=1e3*e.timeReset),t.ready.includes(e.player)||t.ready.push(e.player),t.readyCheck()}),t.socket.on("updateSignal",function(e){t.player===e.opponent&&(t.currentAnswerAway=e.current,t.awayStyle=e.state)}),t.socket.on("answerComplete",function(e){if(e.state){if(t.blocker===e.answer)return console.log("blocked"),!1;t.blocker=e.answer,console.log("action 1"),t.recordAnswer(e)}else 0===t.answered?(console.log("action 2"),document.getElementById("awayInput").type="text",t.answered+=1):(console.log("action 3"),t.recordDraw())})}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TypeMatch"},[s("audio",{attrs:{id:"audio"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"bg-third"},[s("div",{staticClass:"p-3 ",staticStyle:{height:"100px"}},[s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.s3+t.p1.toString()+".jpg",size:"65px",badge:t.nameCut(t.p1name),"badge-offset":"-0.6em","badge-variant":"p1"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-prime badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p1score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p1")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1),t._v(" "),s("b-col",{staticClass:"mr-3",attrs:{align:"right"}},[s("b-avatar",{attrs:{src:t.s3+t.p2.toString()+".jpg",size:"65px",badge:t.nameCut(t.p2name),"badge-offset":"-0.6em","badge-variant":"p2"}})],1),t._v(" "),s("b-col",{attrs:{align:"left"}},[s("b-badge",{staticClass:"bg-smoke text-p2 badge-lg mb-2",staticStyle:{"font-size":"20px",width:"40px"}},[t._v(t._s(t.p2score))]),t._v(" "),s("br"),t._v(" "),t.ready.includes("p2")?s("b-avatar",{attrs:{icon:"person-check",variant:"safe"}}):t._e()],1)],1)],1),t._v(" "),s("div",{staticStyle:{height:"20px"}},[t.showProgress?s("b-progress",{staticStyle:{height:"20px"},attrs:{max:1,"show-value":""}},[s("b-progress-bar",{attrs:{value:t.progressValues.p1,variant:"p1"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.warn,variant:"warn-light"}}),t._v(" "),s("b-progress-bar",{attrs:{value:t.progressValues.p2,variant:"p2"}})],1):t._e()],1),t._v(" "),s("div",{staticStyle:{height:"20px"}},[t.time?s("b-progress",{staticStyle:{height:"20px"},attrs:{value:t.time,max:t.timeReset,variant:"grape"}}):t._e()],1)]),t._v(" "),s("ToolbarMatch",{attrs:{toolbarShow:t.showTest,p1:t.p1,p2:t.p2,p1name:t.p1name,p2name:t.p2name,socket:t.socket,player:t.player,waiting:t.waiting,showAnswers:t.showAnswers,testType:t.testType},on:{waitUpdate:function(e){t.waiting=1},settings:function(e){return t.updateSettings(e)}}}),t._v(" "),t.showTest?s("div",{staticClass:"bg-grey"},t._l(t.testItems,function(e,i){return s("div",{key:i},[t.testItems.indexOf(e)===t.filter?s("div",[s("br"),t._v(" "),s("b-row",{staticClass:"px-5"},[s("button",{staticClass:"questionDiv bg-second",on:{click:function(s){return t.playAudio(e.sdQue)}}},[s("h3",[s("div",[t.loadNew?s("div",{class:"text-center text-cream"},[s("b-spinner",{staticClass:"align-middle"}),t._v("\n                              Loading...\n                            ")],1):s("span",{domProps:{innerHTML:t._s(e.Spelling)}})]),t._v(" "),"sdOnly"==t.sound||"sdOn"==t.sound?s("span",[s("b-icon-soundwave")],1):t._e()])])]),t._v(" "),s("b-row",{staticClass:"px-5 mt-2"},[s("button",{staticClass:"answerBtn bg-third",attrs:{align:"center"},on:{click:function(s){return t.playAudio(e.sdAns)}}},[s("h4",[s("span",{domProps:{innerHTML:t._s(e.Chinese)}})])])]),t._v(" "),s("b-row",{staticClass:"mt-2",attrs:{"align-h":"center"}},[s("b-col",{attrs:{cols:"10"}},[s("b-form-group",{staticClass:"mb-2"},[s("div",{attrs:{align:"center"}},[s("b-form-input",{class:t.validStyle(t.feedback),style:t.inputStyle,attrs:{align:"center",onblur:"this.focus()",autofocus:"",autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:"false",id:"homeInput"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitAnswer()}},model:{value:t.currentAnswerHome,callback:function(e){t.currentAnswerHome=e},expression:"currentAnswerHome"}}),t._v(" "),s("span",{staticClass:"mt-2"},[t._v("\n                            ("+t._s(t.currentAnswerHome.length)+"/"+t._s(t.answerLength)+")\n                          ")])],1)])],1)],1),t._v(" "),s("b-row",{staticClass:"mt-1",attrs:{"align-h":"center"}},[s("b-col",{attrs:{cols:"10"}},[s("b-form-group",[s("div",{attrs:{align:"center"}},[s("b-form-input",{class:t.awayStyle,style:t.inputStyle,attrs:{align:"center",type:"password",disabled:"",id:"awayInput"},model:{value:t.currentAnswerAway,callback:function(e){t.currentAnswerAway=e},expression:"currentAnswerAway"}})],1)])],1)],1)],1):t._e()])}),0):t._e(),t._v(" "),t.showAnswers?s("div",[s("div",{staticClass:"mt-2 bg-smoke"},[s("b-table",{attrs:{striped:"",hover:"",items:t.answerData,fields:t.fields},scopedSlots:t._u([{key:"head(english)",fn:function(e){return[s("div",{attrs:{align:"right"}},[t._v("\n          English\n        ")])]}},{key:"cell(english)",fn:function(e){return[s("div",{staticStyle:{float:"left"}},[e.item.English in t.starGet?[s("b-icon-star-fill",{attrs:{variant:"warn"},on:{click:function(s){return t.addStar(e.item.English,0)}}})]:[s("b-icon-star",{attrs:{variant:"grey"},on:{click:function(s){return t.addStar(e.item.English,1)}}})]],2),t._v(" "),s("div",{attrs:{align:"right"}},[s("span",{attrs:{id:e.item.English},on:{click:function(s){return t.playAnswer(e.item.English)}}},[t._v(" "+t._s(e.item.English))])])]}}],null,!1,1377973633)})],1)]):t._e(),t._v(" "),s("b-modal",{ref:"winner",attrs:{align:"center","hide-footer":"",title:"Game Over","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" And the winner is... ")]),t._v(" "),s("b-avatar",{attrs:{src:t.s3+t.winner.toString()+".jpg",size:"100px",badge:t.winName,"badge-offset":"-0.6em","badge-variant":t.winner}})],1),t._v(" "),s("br"),t._v(" "),s("button",{class:"buttonDiv mt-3 text-prime bg-"+t.player,staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("winner")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"draw",attrs:{align:"center","hide-footer":"",title:"Result","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" It's a draw! ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("draw")}}},[t._v("Close")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-grape p-2 head",attrs:{align:"center"}},[e("h2",{staticClass:"text-cream"},[this._v(" Type Match ")])])}]};var n=s("VU/8")(i,a,!1,function(t){s("ZV3G")},"data-v-75727724",null);e.default=n.exports},ZREN:function(t,e){},ZV3G:function(t,e){},aOfb:function(t,e){},djO7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("0xDb"),r={name:"Toolbar",props:{toolbarShow:Boolean,showAnswers:Boolean,testType:String,title:String},data:function(){return{showToolbar:!0,wordsReset:"12",words:12,choices:4,retry:!1,testItemsRoot:[],amendedList:[],selected:null,toolbarSettings:{},optionsA:[{value:null,text:"---"}],label:"lbOff",labelOptions:[{text:"Off",value:"lbOff"},{text:"On",value:"lbAn"}],sound:"sdEx",soundOptions:[{text:"Exam",value:"sdEx"},{text:"Auto",value:"sdOn"},{text:"None",value:"sdOff"}],spelling:"---",spellingOptions:[{value:"---",text:"blank"},{value:"blanks",text:"spaces"},{value:"showFL",text:"first/last"},{value:"const",text:"+ vowels"},{value:"vowels",text:"- vowels"},{value:"typos",text:"typos"},{value:"scramble",text:"scramble"},{value:"all",text:"show all"}],sort:"---",sortOptions:[{value:"---",text:"none"},{value:"*",text:"stars"},{value:1,text:"easier"},{value:-1,text:"harder"},{value:"misc.",text:"misc"},{value:"phr.",text:"phrases"}],display:"text_On",displayOptions:[{text:"Chinese",value:"text_On"},{text:"Label",value:"label_On"},{text:"None",value:"all_Off"}],feedback:"fbConst",feedbackOptions:[{text:"Constant",value:"fbConst"},{text:"Complete",value:"fbComp"},{text:"None",value:"fbNone"}]}},methods:{makeTest:function(){if(this.spelling&&"abbr."===this.selected)return alert("Cannot make typos with Abbreviations"),this.showToolbar=!0,!1;if("sdTy"===this.sound&&"abbr."===this.selected)return alert("Cannot make typos with Abbreviations"),this.showToolbar=!0,!1;this.testItemsRoot=[];var t=JSON.parse(this.stringItems);if(this.amendedList=[],"---"===this.sort)this.amendedList=t;else if(0===this.sort)for(var e in t)0!==t[e].totalScore&&null!==t[e].totalScore||this.amendedList.push(t[e]);else if(-1===this.sort)for(var s in t)t[s].totalScore<=0&&this.amendedList.push(t[s]);else if(1===this.sort)for(var i in t)t[i].totalScore>=0&&this.amendedList.push(t[i]);else if("*"===this.sort)for(var a in t)this.starGet[t[a].English]&&this.amendedList.push(t[a]);else if("q"===this.sort)for(var n in t)this.quizGet.includes(t[n].English)&&this.amendedList.push(t[n]);else if("misc."===this.sort)for(var r in console.log("misc set"),t)(t[r].English.includes("-")||t[r].English.includes("'")||t[r].English.includes("&")||t[r].English.includes(".")||"prop."===t[r].Gr||"abbr."===t[r].Gr)&&(console.log("misc",t[r]),"sdTy"===this.sound&&"abbr."===t[r].Gr?console.log("pass abbr."):this.amendedList.push(t[r]));else if("phr."===this.sort)for(var o in t)"phr."===t[o].Gr&&this.amendedList.push(t[o]);console.log(this.amendedList.length<6,this.sort,this.special),this.amendedList.length<6?(alert("Not enough words found to test this category"),this.sort="---",this.makeTest()):this.amendedList.length<this.words&&(this.words=this.amendedList.length),"typeTest"===this.testType?(console.log("make spelling"),this.makeSpelling()):(console.log("make choices"),this.makeChoices())},makeChoices:function(){for(var t=this,e=0,s=this.shuffle(this.amendedList);e<this.words;){var i=s[e];if(i)if("sdTy"===this.sound&&"abbr."===i.Gr);else{for(var n=[{English:i.English,Chinese:i.Chinese,Gr:i.Gr,sdEn:i.mp3en,sdCh:i.mp3ch}],r=1;r<this.choices;)"sdTy"===this.sound?(n.push({English:this.typoFix(i.English),Gr:i.Gr,sdEn:i.mp3en,sdCh:i.mp3ch,Chinese:i.Chinese}),r++):function(){var e=t.amendedList[Math.floor(Math.random()*t.amendedList.length)];n.find(function(t){return t.English===e.English})||(n.push({English:e.English,Chinese:e.Chinese,Gr:e.Gr,sdEn:e.mp3en,sdCh:e.mp3ch}),r++)}();var o=this.shuffle(n);this.testItemsRoot.push({English:i.English,Chinese:i.Chinese,Choices:o,Gr:i.Gr,sdEn:i.mp3en,sdCh:i.mp3ch}),e++}else;}this.toolbarSettings={type:this.testType,sound:this.sound,label:this.label,words:this.words,choices:this.choices,sort:this.sort},this.$emit("newTest",{test:this.testItemsRoot,settings:a()(this.toolbarSettings)}),this.words<6&&(this.words=parseInt(this.wordsReset))},makeSpelling:function(){for(var t=0,e=this.shuffle(this.amendedList);this.testItemsRoot.length<this.words;){var s=e[t];console.log(t,this.words,s);if(s)if(["showFL","const","vowels","typos","scramble"].includes(this.spelling)&&"abbr."===s.Gr)console.log("pass abbr"),t++;else{var i="______________";"---"!==this.spelling&&(console.log("CHECK",s.Gr),i=Object(n.f)(s.English,this.spelling)),this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Spelling:i,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}),t++}else console.log("pass random",s),t++}this.toolbarSettings={type:this.testType,sound:this.sound,words:this.words,choices:this.choices,sort:this.sort,spelling:this.spelling,display:this.display,feedback:this.feedback},this.$emit("newTest",{test:this.testItemsRoot,settings:a()(this.toolbarSettings)}),this.words<6&&(this.words=parseInt(this.wordsReset))},typoFix:function(t){var e=t.split(" "),s="";for(var i in e)s+=Object(n.b)(e[i]),s+=" ";return s},retryTest:function(){this.$emit("retry",null)},breaker:function(t){return t.split(";")},alphabet:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var e in t)this.optionsA.push({value:t[e],text:t[e]})},shuffle:function(t){for(var e=t.length-1;e>0;e--){var s=Math.floor(Math.random()*(e+1)),i=[t[s],t[e]];t[e]=i[0],t[s]=i[1]}return t},goTo:function(t){this.$router.push(t)}},watch:{words:function(){0===this.words&&(alert("There are no words that meet your selection"),this.words=parseInt(this.wordsReset))}},computed:{starGet:function(){return console.log("starGet",this.$store.state.setRecord.starRecord),this.$store.getters.starGet},quizGet:function(){return console.log("quizGet"),this.$store.getters.quizGet},colGet:function(){return"typeTest"===this.testType?6:4}},created:function(){if(this.alphabet(),this.tableItems=this.$store.getters.makeList,this.stringItems=a()(this.tableItems),"transCh"===this.testType&&(this.soundOptions=[{text:"Exam",value:"sdEx"},{text:"Spelling",value:"sdTy"},{text:"Normal",value:"sdOff"}]),"typeTest"===this.testType&&(this.sound="sdEn",this.soundOptions=[{text:"English",value:"sdEn"},{text:"Chinese",value:"sdCh"},{text:"None",value:"sdOff"}]),this.$store.state.userProfile.vocab.includes("apan")&&(this.spellingOptions=[{value:"---",text:"blank"},{value:"blanks",text:"spaces"},{value:"scramble",text:"scramble"},{value:"all",text:"show all"}],"transCh"===this.testType?this.soundOptions=[{text:"Exam",value:"sdEx"},{text:"Normal",value:"sdOff"}]:"typeTest"===this.testType&&(this.soundOptions=[{text:"Japanese",value:"sdEn"},{text:"Chinese",value:"sdCh"},{text:"None",value:"sdOff"}],this.displayOptions=[{text:"Japanese",value:"text_On"},{text:"Label",value:"label_On"},{text:"None",value:"all_Off"}])),this.$store.getters.checkQuiz&&(this.sortOptions.pop(),this.sortOptions.pop()),console.log(this.$store.state.logsRecord.settings),this.$store.state.logsRecord.settings[this.testType]){var t=this.$store.state.logsRecord.settings[this.testType];for(var e in t)"type"!==e&&(this[e]=t[e])}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.toolbarShow?t._e():s("div",{staticClass:"toolbar"},[s("div",[s("div",{staticClass:"bg-prime p-2 mt-0"},[s("b-row",[s("b-col",{attrs:{align:"center"}},[s("button",{staticClass:"buttonDiv bg-info text-cream px-3",staticStyle:{width:"45%",height:"50px"},on:{click:function(e){t.makeTest(),t.showToolbar=!1}}},[s("b-icon-forward",{attrs:{variant:"cream","font-scale":"1.5"}}),s("span",{staticStyle:{"font-size":"16pt"}},[t._v(" NEW")])],1)])],1),t._v(" "),t.showAnswers&&!t.showToolbar?s("b-row",{staticClass:"mt-2",attrs:{align:"center"}},[s("b-col",[s("button",{staticClass:"buttonDiv bg-warn text-cream",staticStyle:{width:"100%"},on:{click:function(e){return t.retryTest()}}},[s("b-icon-arrow-clockwise",{attrs:{variant:"cream","font-scale":"1.5"}}),s("span",{staticStyle:{"font-size":"16pt"}},[t._v(" REDO")])],1)]),t._v(" "),s("b-col",[s("button",{staticClass:"buttonDiv bg-grey text-cream",staticStyle:{width:"100%"},on:{click:function(e){t.showToolbar=!0}}},[s("b-icon-tools",{attrs:{variant:"cream","font-scale":"1.5"}}),s("span",{staticStyle:{"font-size":"16pt"}},[t._v(" SETUP")])],1)])],1):t._e()],1),t._v(" "),t.showToolbar?s("div",{class:t.getClass("fourth","prime"," p-2 pb-4 mb-3")},[s("b-row",{attrs:{cols:"2","cols-xl":t.colGet}},[s("b-col",{staticClass:"mt-4"},[s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t._v("\n                WORDS\n              ")]),t._v(" "),s("div",{staticClass:"spinDiv d-none d-sm-block"},[s("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"6",max:"30",step:"2",vertical:""},model:{value:t.words,callback:function(e){t.words=e},expression:"words"}})],1),t._v(" "),"typeTest"!=t.testType?s("div",{staticClass:"d-sm-none"},[s("b-form-spinbutton",{staticStyle:{width:"120px"},attrs:{min:"6",max:"30",step:"2"},model:{value:t.words,callback:function(e){t.words=e},expression:"words"}})],1):s("div",{staticClass:"spinDiv d-sm-none"},[s("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"6",max:"30",step:"2",vertical:""},model:{value:t.words,callback:function(e){t.words=e},expression:"words"}})],1)])]),t._v(" "),"transEng"===t.testType||"transCh"===t.testType?s("b-col",{staticClass:"mt-4"},[s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t._v("\n                CHOICES\n              ")]),t._v(" "),s("div",{staticClass:"spinDiv d-none d-sm-block"},[s("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"3",max:"5",vertical:""},model:{value:t.choices,callback:function(e){t.choices=e},expression:"choices"}})],1),t._v(" "),s("div",{staticClass:"d-sm-none"},[s("b-form-spinbutton",{staticStyle:{width:"120px"},attrs:{min:"3",max:"5"},model:{value:t.choices,callback:function(e){t.choices=e},expression:"choices"}})],1)])]):t._e(),t._v(" "),s("b-col",{staticClass:"mt-4"},[s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t.testType.includes("Eng")||t.testType.includes("type")?s("span",[t._v(" SOUND ")]):s("span",[t._v(" MODE ")])]),s("br"),t._v(" "),s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.soundOptions,"button-variant":"outline-alert",buttons:"",stacked:""},model:{value:t.sound,callback:function(e){t.sound=e},expression:"sound"}})],1),t._v(" "),s("br"),t._v(" "),"transEng"===t.testType||"transCh"===t.testType?s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t._v(" LABELS ")]),s("br"),t._v(" "),s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.labelOptions,buttons:"","button-variant":"outline-safe",stacked:""},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1):t._e()]),t._v(" "),"typeTest"===t.testType?s("b-col",{staticClass:"mt-4"},[s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t._v(" DISPLAY ")]),s("br"),t._v(" "),s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.displayOptions,buttons:"","button-variant":"outline-second",stacked:""},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}})],1)]):t._e(),t._v(" "),"typeTest"===t.testType?s("b-col",{staticClass:"mt-4"},[s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t._v(" FEEDBACK ")]),s("br"),t._v(" "),s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.feedbackOptions,buttons:"","button-variant":"outline-grape-light",stacked:""},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}})],1)]):t._e(),t._v(" "),"typeTest"===t.testType?s("b-col",{staticClass:"mt-4"},[s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t._v(" ASSIST ")]),s("br"),t._v(" "),s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.spellingOptions,buttons:"","button-variant":"outline-safe",stacked:""},model:{value:t.spelling,callback:function(e){t.spelling=e},expression:"spelling"}})],1)]):t._e(),t._v(" "),s("b-col",{staticClass:"mt-4"},[s("div",{attrs:{align:"center"}},[s("div",{staticClass:"headDiv"},[t._v(" SORT ")]),s("br"),t._v(" "),s("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.sortOptions,buttons:"","button-variant":"outline-warn",stacked:""},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1)])],1)],1):t._e(),t._v(" "),t.$store.getters.getHelp&&t.showToolbar?s("div",{staticClass:"helpTab1"},t._l(t.breaker(t.$store.getters.getHelp.Toolbar[t.testType]),function(e,i){return s("h6",{key:i,staticStyle:{"border-bottom":"2px solid grey"}},[t._v(" "+t._s(e)+" ")])}),0):t._e(),t._v(" "),t.$store.getters.getHelp&&!t.showToolbar?s("div",{staticClass:"helpTab1"},t._l(t.breaker(t.$store.getters.getHelp.Toolbar.answers),function(e,i){return s("h6",{key:i,staticStyle:{"border-bottom":"2px solid grey"}},[t._v(" "+t._s(e)+" ")])}),0):t._e(),t._v(" "),s("div")])])},staticRenderFns:[]};var l=s("VU/8")(r,o,!1,function(t){s("L+El")},"data-v-74a7742b",null);e.default=l.exports},eiSN:function(t,e){},pkJh:function(t,e){},xEZN:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),n=s("fZjL"),r=s.n(n),o={name:"IntPict",props:{itemMaster:Object,student:String},data:function(){return{msg:null,item:{},save:!0,classRecords:{},notes:{},pields:[{key:"link",label:"Picture",sortable:!0},{key:"def",label:"Info",sortable:!0},{key:"status",label:"Record",sortable:!0}],optionsR:[{value:null,text:"-"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"},{value:6,text:"6"}],color:{null:"smoke",1:"safe",2:"alert",3:"warn",4:"second",5:"p2",6:"grape-light"},noteCodes:{null:null,1:"Good",2:"Grammar",3:"Punctuation",4:"Detail",5:"Spelling",6:"Picture"},commonFeedback:{1:"please add period (.)",2:"please choose a better picture to match your sentence",3:"please do not choose a picture that shows the word you are using"}}},methods:{showModal:function(){this.$refs.success.show()},showDelete:function(){this.$refs.delete.show()},hideModal:function(t){},getUpdateStyle:function(t,e){var s=this.$store.state.instructor.studentUpdates[this.student];return 1===e?{}:s&&s[t]&&1===s[t]?{background:"lime"}:void 0},getImage:function(t,e,s,i){return"add"===e?"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/add.jpg":"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/"+s+"/"+i+"/"+t+e+".jpg"},saveData:function(){console.log("this.save",this.notes),this.save&&(console.log("saveNoteData"),this.$store.dispatch("updateNotes",{notes:this.notes}))},getPictArray:function(t){var e=[];for(var s in t)e.push(t[s]);return console.log("pictList",e),e},getColor:function(t){var e=0;if(t.word){var s=t.word;e=this.itemLocal.setRecord.dictRecord[s].status}return this.color[e]},loadSentence:function(t){var e=this.itemLocal.setRecord.dictRecord[t].note,s=this.itemLocal.setRecord.dictRecord[t].text,i=0;for(var n in console.log(),this.commonFeedback)e===this.commonFeedback[n]&&(i=n);if(0===i)this.itemLocal.setRecord.dictRecord[t].note=this.commonFeedback[1];else if(i===r()(this.commonFeedback).length)this.itemLocal.setRecord.dictRecord[t].note=s;else{var o=parseInt(i)+1;this.itemLocal.setRecord.dictRecord[t].note=this.commonFeedback[o]}var l=this;setTimeout(function(){console.log(l.itemLocal),l.itemLocal=a()({},l.itemLocal)},100)},updateNotes:function(){this.notes[this.student]||(this.notes[this.student]={})},radioAction:function(t){this.updateNotes(),console.log("dItem",t),console.log("notes",this.notes);var e=t.word,s=this;setTimeout(function(){s.itemLocal=a()({},s.itemLocal),s.notes[s.student][e]=t,s.notes=a()({},s.notes)},100)}},created:function(){for(var t in this.classRecords=a()({},this.$store.getters.classRecords),this.notes=a()({},this.$store.state.instructor.studentNotes),this.itemLocal=a()({},this.itemMaster),console.log("NOTES",this.notes),console.log("ITEM",this.itemLocal),this.notes[this.student])this.itemLocal.setRecord.dictRecord[t]&&(this.itemLocal.setRecord.dictRecord[t].status=this.notes[this.student][t].status,this.itemLocal.setRecord.dictRecord[t].note=this.notes[this.student][t].note)},beforeDestroy:function(){this.saveData()}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Intpict"},[s("b-table",{attrs:{striped:"",hover:"",items:t.getPictArray(t.itemLocal.setRecord.dictRecord),fields:t.pields,"head-variant":"dark"},scopedSlots:t._u([{key:"cell(link)",fn:function(e){return[s("h5",[t._v(" "+t._s(e.item.word)+" ")]),t._v(" "),s("h5",[t._v(" "+t._s(e.item.chinese)+" ")]),t._v(" "),s("b-img",{staticStyle:{"max-width":"100px"},attrs:{thumbnail:"",fluid:"",src:t.getImage(e.item.word,e.item.link,t.student,e.item.vocab)}})]}},{key:"cell(def)",fn:function(e){return[s("span",{staticStyle:{color:"green"}},[t._v(" "+t._s(e.value)+" ")]),t._v(" "),s("hr"),t._v(" "),s("span",{style:t.getUpdateStyle(e.item.word,e.item.status)},[t._v(" "+t._s(e.item.text)+" ")]),t._v(" "),null!==e.item.status&&0!==e.item.status?s("div",[s("hr"),t._v(" "),s("b-form-input",{attrs:{placeholder:"Add Note"},model:{value:e.item.note,callback:function(s){t.$set(e.item,"note",s)},expression:"data.item.note"}})],1):t._e()]}},{key:"cell(status)",fn:function(e){return[s("b-form-radio-group",{attrs:{id:"btn-radios-2",options:t.optionsR,buttons:"","button-variant":t.getColor(e.item),size:"sm",name:"radio-btn-outline"},on:{change:function(s){return t.radioAction(e.item)}},model:{value:e.item.status,callback:function(s){t.$set(e.item,"status",s)},expression:"data.item.status"}}),t._v(" "),s("br"),t._v("\n\n          "+t._s(t.noteCodes[e.item.status])+"\n          "),s("br"),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-smoke text-prime",staticStyle:{width:"40%"},on:{click:function(s){return t.loadSentence(e.item.word)}}},[t._v("Load")])]}}])}),t._v(" "),s("b-modal",{ref:"success",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Image Adder"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" "+t._s(t.msg)+" ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("success")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"delete",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Delete Picture"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" "+t._s(t.msg)+" ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-grey text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("cancel")}}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-alert text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("delete")}}},[t._v("Delete")])])],1)},staticRenderFns:[]};var c=s("VU/8")(o,l,!1,function(t){s("3Cbf")},"data-v-a6118c9a",null);e.default=c.exports}});
//# sourceMappingURL=0.98f992d3e07b3faff28d.js.map